(this["webpackJsonp@tableplus/diagram"]=this["webpackJsonp@tableplus/diagram"]||[]).push([[0],{117:function(e,a,t){e.exports={container:"body_container__3oC6s",header:"body_header__jV-GI"}},118:function(e,a,t){e.exports={container:"source_container__3TgWW","slide-in":"source_slide-in__P2Ug9",dragging:"source_dragging__1rxAg",button:"source_button__2cu3w"}},119:function(e,a,t){e.exports={container:"row_container__2yTZp",over:"row_over__2gC30"}},12:function(e,a,t){e.exports={container:"edge_container__1EyW3",from:"edge_from__1Ovs9",to:"edge_to__3E3uJ",path:"edge_path__x4S4v",dot:"edge_dot__2KuhC",selected:"edge_selected__1Gpep",hitarea:"edge_hitarea__3Airq"}},120:function(e,a,t){e.exports={container:"name_container__1o8SY",view:"name_view__15GrF"}},123:function(e,a,t){e.exports={container:"header_container__-KQI5"}},124:function(e,a,t){e.exports={container:"progress_container__1kfqj",body:"progress_body__2EtDz"}},125:function(e,a,t){e.exports={container:"footer_container__3MvUg",logo:"footer_logo__3qLuS"}},195:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://diagramplus.com/diagram-schema.json","title":"TablePlus Diagram","description":"JSON schema for Diagram by TablePlus (https://diagramplus.com/)","type":"object","definitions":{"column":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"}},"additionalProperties":false,"required":["id","type","name"]},"row":{"type":"object","properties":{"id":{"type":"string"}},"additionalProperties":{"type":"string"},"required":["id"]},"ref-side":{"type":"object","properties":{"name":{"type":"string"},"schema":{"type":"string"},"rows":{"type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["name","rows"]},"ref":{"type":"object","properties":{"from":{"$ref":"#/definitions/ref-side"},"to":{"$ref":"#/definitions/ref-side"}},"additionalProperties":false,"required":["from","to"]},"item":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"schema":{"type":"string"},"rows":{"type":"array","items":{"$ref":"#/definitions/row"}}},"additionalProperties":false,"required":["id","name","rows"]}},"properties":{"columns":{"type":"array","items":{"$ref":"#/definitions/column"}},"schema":{"type":"string"},"items":{"type":"array","items":{"$ref":"#/definitions/item"}},"refs":{"type":"array","items":{"$ref":"#/definitions/ref"}},"$schema":{"type":"string"}},"additionalProperties":false,"required":["schema","columns","items","refs"]}')},198:function(e,a,t){e.exports={container:"active_container__3joLV","react-draggable-dragging":"active_react-draggable-dragging__1JdPr"}},199:function(e,a,t){e.exports={container:"add_container__2lSlZ","slide-in":"add_slide-in__2Hk9K"}},200:function(e,a,t){e.exports={container:"boolean_container__1bqLB"}},201:function(e,a,t){e.exports={right:"field_right__3YAJ4"}},202:function(e,a,t){e.exports={container:"remove_container__Ts2Bx","slide-in":"remove_slide-in__3caLT"}},203:function(e,a,t){e.exports={container:"remove_container__2HEZR","win-background":"remove_win-background__WJQ6a"}},204:function(e,a,t){e.exports={container:"inactive_container__2xyR0"}},206:function(e,a,t){e.exports={container:"layout_container__SVyb1"}},207:function(e){e.exports=JSON.parse('{"$schema":"https://diagramplus.com/diagram-schema.json","columns":[{"id":"type","type":"string"},{"id":"nullable","type":"boolean"}],"tables":[{"id":"employees","name":"employees","rows":[{"id":"emp_no","name":"emp_no","fields":["int(11)",false],"icon":"key1"},{"id":"birth_date","name":"birth_date","fields":["date",true]},{"id":"first_name","name":"first_name","fields":["varchar(14)",true]},{"id":"last_name","name":"last_name","fields":["varchar(16)",true]}]},{"id":"departments","name":"departments","rows":[{"id":"dept_no","name":"dept_no","fields":["char(4)",false],"icon":"key1"},{"id":"dept_name","name":"dept_name","fields":["varchar(40)",false]}]},{"id":"dept_emp","name":"dept_emp","rows":[{"id":"emp_no","name":"emp_no","fields":["int(11)",false],"icon":"key1"},{"id":"dept_no","name":"dept_no","fields":["char(4)",false],"icon":"key1"},{"id":"from_date","name":"from_date","fields":["date",true]},{"id":"to_date","name":"to_date","fields":["date",true]}]}],"refs":[{"from":{"table":"dept_emp","rows":["dept_no"]},"to":{"table":"departments","rows":["dept_no"]}},{"from":{"table":"dept_emp","rows":["emp_no"]},"to":{"table":"employees","rows":["emp_no"]}}]}')},208:function(e){e.exports=JSON.parse('{"columns":[{"id":"type","type":"string"},{"id":"nullable","type":"boolean"}],"tables":[{"id":"fakers","name":"fakers","rows":[{"id":"strap","name":"strap","fields":["float",false]},{"id":"web_strap","name":"web_strap","fields":["blob",false]},{"id":"owner1","name":"owner1","fields":["blob",false]},{"id":"owner2","name":"owner2","fields":["blob",false]},{"id":"mailto","name":"mailto","fields":["blob",false]},{"id":"address1","name":"address1","fields":["blob",false]},{"id":"address2","name":"address2","fields":["blob",false]},{"id":"city","name":"city","fields":["blob",false]},{"id":"state","name":"state","fields":["blob",false]},{"id":"zip","name":"zip","fields":["blob",false]},{"id":"country","name":"country","fields":["blob",false]},{"id":"tax_district_cd","name":"tax_district_cd","fields":["blob",false]},{"id":"subdivision_name","name":"subdivision_name","fields":["blob",false]},{"id":"rgtwsc","name":"rgtwsc","fields":["long",false]},{"id":"rgtw","name":"rgtw","fields":["long",false]},{"id":"sb","name":"sb","fields":["long",false]},{"id":"contamination","name":"contamination","fields":["blob",false]},{"id":"frontage","name":"frontage","fields":["blob",false]},{"id":"future_l1_use","name":"future_l1_use","fields":["blob",false]},{"id":"future_l2_use","name":"future_l2_use","fields":["blob",false]},{"id":"future_l3_use","name":"future_l3_use","fields":["blob",false]},{"id":"future_l4_use","name":"future_l4_use","fields":["blob",false]},{"id":"legal","name":"legal","fields":["blob",false]},{"id":"plat_book_page","name":"plat_book_page","fields":["blob",false]},{"id":"subsidence","name":"subsidence","fields":["blob",false]},{"id":"views","name":"views","fields":["blob",false]},{"id":"seawall","name":"seawall","fields":["blob",false]},{"id":"property_use_description","name":"property_use_description","fields":["blob",false]},{"id":"property_use","name":"property_use","fields":["long",false]},{"id":"or_book_page","name":"or_book_page","fields":["blob",false]},{"id":"total_living_units","name":"total_living_units","fields":["long",false]},{"id":"ct_cd","name":"ct_cd","fields":["blob",false]},{"id":"nh_cd","name":"nh_cd","fields":["long",false]},{"id":"sale_date","name":"sale_date","fields":["blob",false]},{"id":"book_page","name":"book_page","fields":["blob",false]},{"id":"row_number","name":"row_number","fields":["long",false]},{"id":"price","name":"price","fields":["long",false]},{"id":"qu","name":"qu","fields":["blob",false]},{"id":"vi","name":"vi","fields":["blob",false]},{"id":"note","name":"note","fields":["blob",false]},{"id":"month_real","name":"month_real","fields":["blob",false]},{"id":"day_real","name":"day_real","fields":["blob",false]},{"id":"grantee","name":"grantee","fields":["blob",false]},{"id":"grantor","name":"grantor","fields":["blob",false]},{"id":"building_no","name":"building_no","fields":["long",false]},{"id":"impr_tp","name":"impr_tp","fields":["blob",false]},{"id":"description","name":"description","fields":["blob",false]},{"id":"impr_mdl_cd","name":"impr_mdl_cd","fields":["blob",false]},{"id":"foundation","name":"foundation","fields":["blob",false]},{"id":"floor_system","name":"floor_system","fields":["blob",false]},{"id":"exterior_wall","name":"exterior_wall","fields":["blob",false]},{"id":"complex_view","name":"complex_view","fields":["blob",false]},{"id":"location","name":"location","fields":["blob",false]},{"id":"parking_garage","name":"parking_garage","fields":["blob",false]},{"id":"balcony_porch","name":"balcony_porch","fields":["blob",false]},{"id":"building","name":"building","fields":["blob",false]},{"id":"roof_frame","name":"roof_frame","fields":["blob",false]},{"id":"roof_cover","name":"roof_cover","fields":["blob",false]},{"id":"stories","name":"stories","fields":["long",false]},{"id":"floor_finish","name":"floor_finish","fields":["blob",false]},{"id":"interior_finish","name":"interior_finish","fields":["blob",false]},{"id":"fixtures","name":"fixtures","fields":["long",false]},{"id":"living_units","name":"living_units","fields":["long",false]},{"id":"quality","name":"quality","fields":["blob",false]},{"id":"square_footage","name":"square_footage","fields":["long",false]},{"id":"heated_area","name":"heated_area","fields":["long",false]},{"id":"year_built","name":"year_built","fields":["long",false]},{"id":"effective_age","name":"effective_age","fields":["long",false]},{"id":"heating","name":"heating","fields":["blob",false]},{"id":"cooling","name":"cooling","fields":["blob",false]},{"id":"other_depreciation","name":"other_depreciation","fields":["blob",false]},{"id":"functional_depreciation","name":"functional_depreciation","fields":["blob",false]},{"id":"economic_depreciation","name":"economic_depreciation","fields":["blob",false]},{"id":"floor_no","name":"floor_no","fields":["blob",false]},{"id":"dpr_bld_val","name":"dpr_bld_val","fields":["long",false]},{"id":"site_city","name":"site_city","fields":["blob",false]},{"id":"ln_num","name":"ln_num","fields":["long",false]},{"id":"soundx_str","name":"soundx_str","fields":["blob",false]},{"id":"str","name":"str","fields":["blob",false]},{"id":"site_bld_num","name":"site_bld_num","fields":["long",false]},{"id":"str_num","name":"str_num","fields":["long",false]},{"id":"str_num_sfx","name":"str_num_sfx","fields":["blob",false]},{"id":"str_pfx","name":"str_pfx","fields":["blob",false]},{"id":"str_sfx","name":"str_sfx","fields":["blob",false]},{"id":"str_sfx_dir","name":"str_sfx_dir","fields":["blob",false]},{"id":"str_unit","name":"str_unit","fields":["blob",false]},{"id":"site_zip","name":"site_zip","fields":["blob",false]},{"id":"xfeat_description","name":"xfeat_description","fields":["blob",false]},{"id":"value","name":"value","fields":["long",false]},{"id":"units","name":"units","fields":["long",false]},{"id":"total_new_value","name":"total_new_value","fields":["long",false]},{"id":"depreciated_value","name":"depreciated_value","fields":["long",false]},{"id":"year","name":"year","fields":["long",false]},{"id":"homestead","name":"homestead","fields":["blob",false]},{"id":"historic","name":"historic","fields":["long",false]},{"id":"soh_cap_pct","name":"soh_cap_pct","fields":["long",false]},{"id":"hx_base_year","name":"hx_base_year","fields":["blob",false]},{"id":"nhx_base_year","name":"nhx_base_year","fields":["blob",false]},{"id":"comp_sales","name":"comp_sales","fields":["long",false]},{"id":"just_building","name":"just_building","fields":["long",false]},{"id":"just_land","name":"just_land","fields":["long",false]},{"id":"just_xf","name":"just_xf","fields":["long",false]},{"id":"just_market_value","name":"just_market_value","fields":["long",false]},{"id":"municipal_taxable_value","name":"municipal_taxable_value","fields":["long",false]},{"id":"school_taxable_value","name":"school_taxable_value","fields":["long",false]},{"id":"assessed_value_soh_cap","name":"assessed_value_soh_cap","fields":["long",false]},{"id":"taxable_value","name":"taxable_value","fields":["long",false]},{"id":"tax_district","name":"tax_district","fields":["blob",false]},{"id":"land_use_code","name":"land_use_code","fields":["long",false]},{"id":"millage","name":"millage","fields":["float",false]},{"id":"tax_amount_no_ex","name":"tax_amount_no_ex","fields":["float",false]},{"id":"special_assessment","name":"special_assessment","fields":["long",false]},{"id":"status_cd","name":"status_cd","fields":["blob",false]},{"id":"status_cd_dscr","name":"status_cd_dscr","fields":["blob",false]},{"id":"res_com_condo","name":"res_com_condo","fields":["blob",false]},{"id":"non_hx_cap","name":"non_hx_cap","fields":["blob",false]},{"id":"tif_flag_type","name":"tif_flag_type","fields":["blob",false]},{"id":"tif_flag_type_dscr","name":"tif_flag_type_dscr","fields":["blob",false]},{"id":"evac_val","name":"evac_val","fields":["blob",false]},{"id":"evac_flag_type","name":"evac_flag_type","fields":["blob",false]},{"id":"evac_flag_type_dscr","name":"evac_flag_type_dscr","fields":["blob",false]},{"id":"tax_district_description","name":"tax_district_description","fields":["blob",false]},{"id":"dlhl_flag_type","name":"dlhl_flag_type","fields":["blob",false]},{"id":"hx_savings","name":"hx_savings","fields":["long",false]},{"id":"tot_effective_area","name":"tot_effective_area","fields":["long",false]},{"id":"tot_gross_area","name":"tot_gross_area","fields":["long",false]},{"id":"tot_living_area","name":"tot_living_area","fields":["long",false]},{"id":"est_taxes_text","name":"est_taxes_text","fields":["blob",false]},{"id":"mill_yr","name":"mill_yr","fields":["blob",false]},{"id":"hx_cap","name":"hx_cap","fields":["blob",false]},{"id":"land_size","name":"land_size","fields":["blob",false]},{"id":"unit_value","name":"unit_value","fields":["long",false]},{"id":"land_units","name":"land_units","fields":["long",false]},{"id":"method","name":"method","fields":["blob",false]},{"id":"land_use","name":"land_use","fields":["blob",false]},{"id":"acreage","name":"acreage","fields":["float",false]},{"id":"val","name":"val","fields":["long",false]},{"id":"total_adjustments","name":"total_adjustments","fields":["float",false]},{"id":"land_use_cd","name":"land_use_cd","fields":["long",false]},{"id":"land_use_dscr","name":"land_use_dscr","fields":["blob",false]},{"id":"address_match","name":"address_match","fields":["blob",false]}]},{"id":"tb1","name":"tb1","rows":[{"id":"id","name":"id","fields":["longlong",false]}]},{"id":"tb2","name":"tb2","rows":[{"id":"id","name":"id","fields":["longlong",false]}]}],"refs":[]}')},209:function(e){e.exports=JSON.parse('{"columns":[{"id":"type","type":"string"},{"id":"nullable","type":"boolean"}],"tables":[{"id":"asdasasfa","name":"asdasasfa","rows":[{"id":"id","name":"id","fields":["longlong",false]},{"id":"asf","name":"asf","fields":["blob",false]}]},{"id":"autouptable","name":"autouptable","rows":[{"id":"id","name":"id","fields":["longlong",false]},{"id":"content","name":"content","fields":["blob",false]},{"id":"id2","name":"id2","fields":["longlong",false]}]},{"id":"autouptable2","name":"autouptable2","rows":[{"id":"id","name":"id","fields":["longlong",false]},{"id":"content","name":"content","fields":["blob",false]}]},{"id":"avatars","name":"avatars","rows":[{"id":"rarity_id","name":"rarity_id","fields":["tiny",false]},{"id":"avatar_description","name":"avatar_description","fields":["var_string",false]},{"id":"level_id","name":"level_id","fields":["short",false]},{"id":"store_bundle_id","name":"store_bundle_id","fields":["short",false]},{"id":"in_packs","name":"in_packs","fields":["tiny",false]},{"id":"is_mystery","name":"is_mystery","fields":["tiny",false]},{"id":"avatar_id","name":"avatar_id","fields":["short",false]},{"id":"is_visible","name":"is_visible","fields":["tiny",false]},{"id":"avatar_type_id","name":"avatar_type_id","fields":["tiny",false]},{"id":"is_enabled","name":"is_enabled","fields":["tiny",false]},{"id":"game_version","name":"game_version","fields":["short",false]},{"id":"avatar_name","name":"avatar_name","fields":["var_string",false]}]},{"id":"avatars_types","name":"avatars_types","rows":[{"id":"avatar_type_id","name":"avatar_type_id","fields":["tiny",false]},{"id":"avatar_type","name":"avatar_type","fields":["var_string",false]},{"id":"rarity_id","name":"rarity_id","fields":["tiny",false]},{"id":"level_id","name":"level_id","fields":["short",false]},{"id":"blueprints_needed","name":"blueprints_needed","fields":["long",false]},{"id":"store_bundle_id","name":"store_bundle_id","fields":["short",false]},{"id":"in_packs","name":"in_packs","fields":["tiny",false]},{"id":"is_visible","name":"is_visible","fields":["tiny",false]},{"id":"is_enabled","name":"is_enabled","fields":["tiny",false]},{"id":"game_version","name":"game_version","fields":["short",false]}]},{"id":"cars","name":"cars","rows":[{"id":"ROW_ID","name":"ROW_ID","fields":["long",false]},{"id":"G","name":"G","fields":["geometry",false]},{"id":"nicebit","name":"nicebit","fields":["bit",false]}]},{"id":"comments","name":"comments","rows":[{"id":"id","name":"id","fields":["long",false]},{"id":"comment","name":"comment","fields":["blob",false]},{"id":"from_user_id","name":"from_user_id","fields":["long",false]},{"id":"to_user_id","name":"to_user_id","fields":["long",false]},{"id":"created_at","name":"created_at","fields":["timestamp",false]},{"id":"updated_at","name":"updated_at","fields":["timestamp",false]},{"id":"item_id","name":"item_id","fields":["long",false]},{"id":"disable","name":"disable","fields":["tiny",false]}]},{"id":"contract_2018","name":"contract_2018","rows":[{"id":"id","name":"id","fields":["long",false]},{"id":"version","name":"version","fields":["long",false]},{"id":"data","name":"data","fields":["json",false]},{"id":"contract_date","name":"contract_date","fields":["date",false]},{"id":"commodity","name":"commodity","fields":["long",false]},{"id":"is_confirmed","name":"is_confirmed","fields":["tiny",false]},{"id":"approval_required","name":"approval_required","fields":["tiny",false]},{"id":"confirmation_nr","name":"confirmation_nr","fields":["var_string",false]}]},{"id":"developers","name":"developers","rows":[{"id":"id","name":"id","fields":["long",false]},{"id":"name","name":"name","fields":["blob",false]},{"id":"comment_id","name":"comment_id","fields":["long",false]},{"id":"note","name":"note","fields":["blob",false]},{"id":"This is a long column nameThis is a long column nameThis is a l","name":"This is a long column nameThis is a long column nameThis is a l","fields":["blob",false]},{"id":"Column number 6","name":"Column number 6","fields":["blob",false]},{"id":"tb2index","name":"tb2index","fields":["blob",false]},{"id":"bool_column","name":"bool_column","fields":["blob",false]}]},{"id":"game_modes","name":"game_modes","rows":[{"id":"game_mode_id","name":"game_mode_id","fields":["tiny",false]},{"id":"mode_name","name":"mode_name","fields":["var_string",false]},{"id":"mode_key","name":"mode_key","fields":["var_string",false]},{"id":"mode_asset","name":"mode_asset","fields":["var_string",false]},{"id":"mode_description","name":"mode_description","fields":["var_string",false]},{"id":"max_rounds","name":"max_rounds","fields":["tiny",false]},{"id":"time_limit","name":"time_limit","fields":["tiny",false]},{"id":"goal_limit","name":"goal_limit","fields":["tiny",false]},{"id":"goal_type","name":"goal_type","fields":["var_string",false]},{"id":"map_list","name":"map_list","fields":["var_string",false]},{"id":"is_teambased","name":"is_teambased","fields":["tiny",false]},{"id":"is_enabled","name":"is_enabled","fields":["tiny",false]},{"id":"game_version","name":"game_version","fields":["short",false]},{"id":"is_visible","name":"is_visible","fields":["tiny",false]}]},{"id":"geotest","name":"geotest","rows":[{"id":"code","name":"code","fields":["long",false]},{"id":"descrip","name":"descrip","fields":["var_string",false]},{"id":"g","name":"g","fields":["geometry",false]}]},{"id":"mealplan","name":"mealplan","rows":[{"id":"id","name":"id","fields":["long",false]},{"id":"user_id","name":"user_id","fields":["long",false]},{"id":"plan","name":"plan","fields":["blob",false]},{"id":"accessed_at","name":"accessed_at","fields":["datetime",false]},{"id":"created_at","name":"created_at","fields":["datetime",false]},{"id":"updated_at","name":"updated_at","fields":["datetime",false]},{"id":"deleted_at","name":"deleted_at","fields":["datetime",false]}]},{"id":"mutuals","name":"mutuals","rows":[{"id":"id","name":"id","fields":["long",false]},{"id":"from_user_id","name":"from_user_id","fields":["long",false]},{"id":"to_user_id","name":"to_user_id","fields":["long",false]},{"id":"score","name":"score","fields":["long",false]},{"id":"mutual","name":"mutual","fields":["blob",false]},{"id":"created_at","name":"created_at","fields":["blob",false]},{"id":"updated_at","name":"updated_at","fields":["blob",false]}]},{"id":"mydbops_lab_test","name":"mydbops_lab_test","rows":[{"id":"id","name":"id","fields":["long",false]},{"id":"firstname","name":"firstname","fields":["var_string",false]},{"id":"lastname","name":"lastname","fields":["var_string",false]},{"id":"full_name","name":"full_name","fields":["string",false]},{"id":"email_id","name":"email_id","fields":["var_string",false]}]},{"id":"playlists","name":"playlists","rows":[{"id":"playlist_id","name":"playlist_id","fields":["tiny",false]},{"id":"playlist_name","name":"playlist_name","fields":["var_string",false]},{"id":"playlist_key","name":"playlist_key","fields":["var_string",false]},{"id":"playlist_description","name":"playlist_description","fields":["var_string",false]},{"id":"game_mode_list","name":"game_mode_list","fields":["var_string",false]},{"id":"config_id","name":"config_id","fields":["tiny",false]},{"id":"min_players","name":"min_players","fields":["tiny",false]},{"id":"max_players","name":"max_players","fields":["tiny",false]},{"id":"max_spectators","name":"max_spectators","fields":["tiny",false]},{"id":"is_ranked","name":"is_ranked","fields":["tiny",false]},{"id":"is_visible","name":"is_visible","fields":["tiny",false]},{"id":"is_enabled","name":"is_enabled","fields":["tiny",false]},{"id":"item_order","name":"item_order","fields":["tiny",false]},{"id":"game_version","name":"game_version","fields":["short",false]}]},{"id":"sample","name":"sample","rows":[{"id":"id","name":"id","fields":["string",false]},{"id":"foo","name":"foo","fields":["short",false]}]},{"id":"students","name":"students","rows":[{"id":"student_id","name":"student_id","fields":["longlong",false]},{"id":"student_name","name":"student_name","fields":["var_string",false]},{"id":"photo","name":"photo","fields":["blob",false]}]},{"id":"sys_city","name":"sys_city","rows":[{"id":"id","name":"id","fields":["long",false]}]},{"id":"table_blob","name":"table_blob","rows":[{"id":"id","name":"id","fields":["longlong",false]},{"id":"content","name":"content","fields":["blob",false]},{"id":"aaa","name":"aaa","fields":["json",false]}]},{"id":"testing","name":"testing","rows":[{"id":"example_text","name":"example_text","fields":["blob",false]},{"id":"example_varchar","name":"example_varchar","fields":["var_string",false]}]},{"id":"untitled_table_23","name":"untitled_table_23","rows":[{"id":"id","name":"id","fields":["longlong",false]}]},{"id":"untitled_view_28","name":"untitled_view_28","rows":[{"id":"id","name":"id","fields":["long",false]},{"id":"comment","name":"comment","fields":["blob",false]},{"id":"from_user_id","name":"from_user_id","fields":["long",false]},{"id":"to_user_id","name":"to_user_id","fields":["long",false]},{"id":"created_at","name":"created_at","fields":["timestamp",false]},{"id":"updated_at","name":"updated_at","fields":["timestamp",false]},{"id":"item_id","name":"item_id","fields":["long",false]},{"id":"disable","name":"disable","fields":["tiny",false]}]},{"id":"users","name":"users","rows":[{"id":"strap","name":"strap","fields":["float",false]},{"id":"web_strap","name":"web_strap","fields":["blob",false]},{"id":"owner1","name":"owner1","fields":["blob",false]},{"id":"owner2","name":"owner2","fields":["blob",false]},{"id":"mailto","name":"mailto","fields":["blob",false]},{"id":"address1","name":"address1","fields":["blob",false]},{"id":"address2","name":"address2","fields":["blob",false]},{"id":"city","name":"city","fields":["blob",false]},{"id":"state","name":"state","fields":["blob",false]},{"id":"zip","name":"zip","fields":["blob",false]},{"id":"country","name":"country","fields":["blob",false]},{"id":"tax_district_cd","name":"tax_district_cd","fields":["blob",false]},{"id":"subdivision_name","name":"subdivision_name","fields":["blob",false]},{"id":"rgtwsc","name":"rgtwsc","fields":["long",false]},{"id":"rgtw","name":"rgtw","fields":["long",false]},{"id":"sb","name":"sb","fields":["long",false]},{"id":"contamination","name":"contamination","fields":["blob",false]},{"id":"frontage","name":"frontage","fields":["blob",false]},{"id":"future_l1_use","name":"future_l1_use","fields":["blob",false]},{"id":"future_l2_use","name":"future_l2_use","fields":["blob",false]},{"id":"future_l3_use","name":"future_l3_use","fields":["blob",false]},{"id":"future_l4_use","name":"future_l4_use","fields":["blob",false]},{"id":"legal","name":"legal","fields":["blob",false]},{"id":"plat_book_page","name":"plat_book_page","fields":["blob",false]},{"id":"subsidence","name":"subsidence","fields":["blob",false]},{"id":"views","name":"views","fields":["blob",false]},{"id":"seawall","name":"seawall","fields":["blob",false]},{"id":"property_use_description","name":"property_use_description","fields":["blob",false]},{"id":"property_use","name":"property_use","fields":["long",false]},{"id":"or_book_page","name":"or_book_page","fields":["blob",false]},{"id":"total_living_units","name":"total_living_units","fields":["long",false]},{"id":"ct_cd","name":"ct_cd","fields":["blob",false]},{"id":"nh_cd","name":"nh_cd","fields":["long",false]},{"id":"sale_date","name":"sale_date","fields":["blob",false]},{"id":"book_page","name":"book_page","fields":["blob",false]},{"id":"row_number","name":"row_number","fields":["long",false]},{"id":"price","name":"price","fields":["long",false]},{"id":"qu","name":"qu","fields":["blob",false]},{"id":"vi","name":"vi","fields":["blob",false]},{"id":"note","name":"note","fields":["blob",false]},{"id":"month_real","name":"month_real","fields":["blob",false]},{"id":"day_real","name":"day_real","fields":["blob",false]},{"id":"grantee","name":"grantee","fields":["blob",false]},{"id":"grantor","name":"grantor","fields":["blob",false]},{"id":"building_no","name":"building_no","fields":["long",false]},{"id":"impr_tp","name":"impr_tp","fields":["blob",false]},{"id":"description","name":"description","fields":["blob",false]},{"id":"impr_mdl_cd","name":"impr_mdl_cd","fields":["blob",false]},{"id":"foundation","name":"foundation","fields":["blob",false]},{"id":"floor_system","name":"floor_system","fields":["blob",false]},{"id":"exterior_wall","name":"exterior_wall","fields":["blob",false]},{"id":"complex_view","name":"complex_view","fields":["blob",false]},{"id":"location","name":"location","fields":["blob",false]},{"id":"parking_garage","name":"parking_garage","fields":["blob",false]},{"id":"balcony_porch","name":"balcony_porch","fields":["blob",false]},{"id":"building","name":"building","fields":["blob",false]},{"id":"roof_frame","name":"roof_frame","fields":["blob",false]},{"id":"roof_cover","name":"roof_cover","fields":["blob",false]},{"id":"stories","name":"stories","fields":["long",false]},{"id":"floor_finish","name":"floor_finish","fields":["blob",false]},{"id":"interior_finish","name":"interior_finish","fields":["blob",false]},{"id":"fixtures","name":"fixtures","fields":["long",false]},{"id":"living_units","name":"living_units","fields":["long",false]},{"id":"quality","name":"quality","fields":["blob",false]},{"id":"square_footage","name":"square_footage","fields":["long",false]},{"id":"heated_area","name":"heated_area","fields":["long",false]},{"id":"year_built","name":"year_built","fields":["long",false]},{"id":"effective_age","name":"effective_age","fields":["long",false]},{"id":"heating","name":"heating","fields":["blob",false]},{"id":"cooling","name":"cooling","fields":["blob",false]},{"id":"other_depreciation","name":"other_depreciation","fields":["blob",false]},{"id":"functional_depreciation","name":"functional_depreciation","fields":["blob",false]},{"id":"economic_depreciation","name":"economic_depreciation","fields":["blob",false]},{"id":"floor_no","name":"floor_no","fields":["blob",false]},{"id":"dpr_bld_val","name":"dpr_bld_val","fields":["long",false]},{"id":"site_city","name":"site_city","fields":["blob",false]},{"id":"ln_num","name":"ln_num","fields":["long",false]},{"id":"soundx_str","name":"soundx_str","fields":["blob",false]},{"id":"str","name":"str","fields":["blob",false]},{"id":"site_bld_num","name":"site_bld_num","fields":["long",false]},{"id":"str_num","name":"str_num","fields":["long",false]},{"id":"str_num_sfx","name":"str_num_sfx","fields":["blob",false]},{"id":"str_pfx","name":"str_pfx","fields":["blob",false]},{"id":"str_sfx","name":"str_sfx","fields":["blob",false]},{"id":"str_sfx_dir","name":"str_sfx_dir","fields":["blob",false]},{"id":"str_unit","name":"str_unit","fields":["blob",false]},{"id":"site_zip","name":"site_zip","fields":["blob",false]},{"id":"xfeat_description","name":"xfeat_description","fields":["blob",false]},{"id":"value","name":"value","fields":["long",false]},{"id":"units","name":"units","fields":["long",false]},{"id":"total_new_value","name":"total_new_value","fields":["long",false]},{"id":"depreciated_value","name":"depreciated_value","fields":["long",false]},{"id":"year","name":"year","fields":["long",false]},{"id":"homestead","name":"homestead","fields":["blob",false]},{"id":"historic","name":"historic","fields":["long",false]},{"id":"soh_cap_pct","name":"soh_cap_pct","fields":["long",false]},{"id":"hx_base_year","name":"hx_base_year","fields":["blob",false]},{"id":"nhx_base_year","name":"nhx_base_year","fields":["blob",false]},{"id":"comp_sales","name":"comp_sales","fields":["long",false]},{"id":"just_building","name":"just_building","fields":["long",false]},{"id":"just_land","name":"just_land","fields":["long",false]},{"id":"just_xf","name":"just_xf","fields":["long",false]},{"id":"just_market_value","name":"just_market_value","fields":["long",false]},{"id":"municipal_taxable_value","name":"municipal_taxable_value","fields":["long",false]},{"id":"school_taxable_value","name":"school_taxable_value","fields":["long",false]},{"id":"assessed_value_soh_cap","name":"assessed_value_soh_cap","fields":["long",false]},{"id":"taxable_value","name":"taxable_value","fields":["long",false]},{"id":"tax_district","name":"tax_district","fields":["blob",false]},{"id":"land_use_code","name":"land_use_code","fields":["long",false]},{"id":"millage","name":"millage","fields":["float",false]},{"id":"tax_amount_no_ex","name":"tax_amount_no_ex","fields":["float",false]},{"id":"special_assessment","name":"special_assessment","fields":["long",false]},{"id":"status_cd","name":"status_cd","fields":["blob",false]},{"id":"status_cd_dscr","name":"status_cd_dscr","fields":["blob",false]},{"id":"res_com_condo","name":"res_com_condo","fields":["blob",false]},{"id":"non_hx_cap","name":"non_hx_cap","fields":["blob",false]},{"id":"tif_flag_type","name":"tif_flag_type","fields":["blob",false]},{"id":"tif_flag_type_dscr","name":"tif_flag_type_dscr","fields":["blob",false]},{"id":"evac_val","name":"evac_val","fields":["blob",false]},{"id":"evac_flag_type","name":"evac_flag_type","fields":["blob",false]},{"id":"evac_flag_type_dscr","name":"evac_flag_type_dscr","fields":["blob",false]},{"id":"tax_district_description","name":"tax_district_description","fields":["blob",false]},{"id":"dlhl_flag_type","name":"dlhl_flag_type","fields":["blob",false]},{"id":"hx_savings","name":"hx_savings","fields":["long",false]},{"id":"tot_effective_area","name":"tot_effective_area","fields":["long",false]},{"id":"tot_gross_area","name":"tot_gross_area","fields":["long",false]},{"id":"tot_living_area","name":"tot_living_area","fields":["long",false]},{"id":"est_taxes_text","name":"est_taxes_text","fields":["blob",false]},{"id":"mill_yr","name":"mill_yr","fields":["blob",false]},{"id":"hx_cap","name":"hx_cap","fields":["blob",false]},{"id":"land_size","name":"land_size","fields":["blob",false]},{"id":"unit_value","name":"unit_value","fields":["long",false]},{"id":"land_units","name":"land_units","fields":["long",false]},{"id":"method","name":"method","fields":["blob",false]},{"id":"land_use","name":"land_use","fields":["blob",false]},{"id":"acreage","name":"acreage","fields":["float",false]},{"id":"val","name":"val","fields":["long",false]},{"id":"total_adjustments","name":"total_adjustments","fields":["float",false]},{"id":"land_use_cd","name":"land_use_cd","fields":["long",false]},{"id":"land_use_dscr","name":"land_use_dscr","fields":["blob",false]},{"id":"address_match","name":"address_match","fields":["blob",false]}]},{"id":"weapon_types","name":"weapon_types","rows":[{"id":"weapon_type_id","name":"weapon_type_id","fields":["long",false]},{"id":"type_name","name":"type_name","fields":["var_string",false]},{"id":"category_id","name":"category_id","fields":["long",false]},{"id":"challenge_id","name":"challenge_id","fields":["short",false]},{"id":"weapon_description","name":"weapon_description","fields":["var_string",false]},{"id":"is_primary","name":"is_primary","fields":["tiny",false]},{"id":"rarity_id","name":"rarity_id","fields":["tiny",false]},{"id":"level_id","name":"level_id","fields":["short",false]},{"id":"blueprints_needed","name":"blueprints_needed","fields":["long",false]},{"id":"stance_id","name":"stance_id","fields":["tiny",false]},{"id":"damage_delta","name":"damage_delta","fields":["decimal",false]},{"id":"range_delta","name":"range_delta","fields":["decimal",false]},{"id":"firerate_delta","name":"firerate_delta","fields":["decimal",false]},{"id":"accuracy_delta","name":"accuracy_delta","fields":["decimal",false]},{"id":"mobility_delta","name":"mobility_delta","fields":["decimal",false]},{"id":"in_packs","name":"in_packs","fields":["tiny",false]},{"id":"is_enabled","name":"is_enabled","fields":["tiny",false]},{"id":"game_version","name":"game_version","fields":["short",false]}]},{"id":"weapons","name":"weapons","rows":[{"id":"weapon_id","name":"weapon_id","fields":["long",false]},{"id":"weapon_name","name":"weapon_name","fields":["var_string",false]},{"id":"weapon_description","name":"weapon_description","fields":["var_string",false]},{"id":"child_weapon_id","name":"child_weapon_id","fields":["short",false]},{"id":"weapon_type_id","name":"weapon_type_id","fields":["short",false]},{"id":"weapon_level","name":"weapon_level","fields":["short",false]},{"id":"rarity_id","name":"rarity_id","fields":["tiny",false]},{"id":"bundle_id","name":"bundle_id","fields":["short",false]},{"id":"weight","name":"weight","fields":["float",false]},{"id":"ammo","name":"ammo","fields":["tiny",false]},{"id":"damage","name":"damage","fields":["short",false]},{"id":"damage_radius","name":"damage_radius","fields":["float",false]},{"id":"projectile_size","name":"projectile_size","fields":["float",false]},{"id":"force","name":"force","fields":["float",false]},{"id":"force_base","name":"force_base","fields":["float",false]},{"id":"force_gravity","name":"force_gravity","fields":["float",false]},{"id":"force_acceleration","name":"force_acceleration","fields":["float",false]},{"id":"force_rotation","name":"force_rotation","fields":["float",false]},{"id":"force_bounce","name":"force_bounce","fields":["float",false]},{"id":"force_curve","name":"force_curve","fields":["float",false]},{"id":"shoot_amount","name":"shoot_amount","fields":["tiny",false]},{"id":"burst_amount","name":"burst_amount","fields":["tiny",false]},{"id":"burst_interval","name":"burst_interval","fields":["float",false]},{"id":"shoot_delay","name":"shoot_delay","fields":["float",false]},{"id":"shoot_charge","name":"shoot_charge","fields":["float",false]},{"id":"shoot_release","name":"shoot_release","fields":["float",false]},{"id":"shoot_interval","name":"shoot_interval","fields":["float",false]},{"id":"shoot_cooldown_delay","name":"shoot_cooldown_delay","fields":["float",false]},{"id":"shoot_cooldown","name":"shoot_cooldown","fields":["float",false]},{"id":"shoot_inaccuracy","name":"shoot_inaccuracy","fields":["float",false]},{"id":"shoot_sway","name":"shoot_sway","fields":["float",false]},{"id":"shoot_knockback","name":"shoot_knockback","fields":["float",false]},{"id":"hit_knockback","name":"hit_knockback","fields":["float",false]},{"id":"explode_time","name":"explode_time","fields":["float",false]},{"id":"sticky_explode_time","name":"sticky_explode_time","fields":["float",false]},{"id":"can_headshot","name":"can_headshot","fields":["tiny",false]},{"id":"can_teleport","name":"can_teleport","fields":["tiny",false]},{"id":"can_gib","name":"can_gib","fields":["tiny",false]},{"id":"can_aim","name":"can_aim","fields":["tiny",false]},{"id":"is_exploding","name":"is_exploding","fields":["tiny",false]},{"id":"is_melee","name":"is_melee","fields":["tiny",false]},{"id":"is_sticky","name":"is_sticky","fields":["tiny",false]},{"id":"is_incendiary","name":"is_incendiary","fields":["tiny",false]},{"id":"is_stun","name":"is_stun","fields":["tiny",false]},{"id":"is_penetrating","name":"is_penetrating","fields":["tiny",false]},{"id":"is_equippable","name":"is_equippable","fields":["tiny",false]},{"id":"is_clipping","name":"is_clipping","fields":["tiny",false]},{"id":"is_fragmenting","name":"is_fragmenting","fields":["tiny",false]},{"id":"in_packs","name":"in_packs","fields":["tiny",false]},{"id":"is_mystery","name":"is_mystery","fields":["tiny",false]},{"id":"is_visible","name":"is_visible","fields":["tiny",false]},{"id":"is_enabled","name":"is_enabled","fields":["tiny",false]},{"id":"game_version","name":"game_version","fields":["short",false]},{"id":"recoil","name":"recoil","fields":["decimal",false]},{"id":"damage_mod_delta","name":"damage_mod_delta","fields":["decimal",false]},{"id":"range_mod_delta","name":"range_mod_delta","fields":["decimal",false]},{"id":"firerate_mod_delta","name":"firerate_mod_delta","fields":["decimal",false]},{"id":"accuracy_mod_delta","name":"accuracy_mod_delta","fields":["decimal",false]},{"id":"mobility_mod_delta","name":"mobility_mod_delta","fields":["decimal",false]}]},{"id":"weapons_x","name":"weapons_x","rows":[{"id":"weapon_id","name":"weapon_id","fields":["long",false]},{"id":"weapon_name","name":"weapon_name","fields":["var_string",false]},{"id":"weapon_description","name":"weapon_description","fields":["var_string",false]},{"id":"child_weapon_id","name":"child_weapon_id","fields":["short",false]},{"id":"weapon_type_id","name":"weapon_type_id","fields":["short",false]},{"id":"weapon_level","name":"weapon_level","fields":["short",false]},{"id":"rarity_id","name":"rarity_id","fields":["tiny",false]},{"id":"bundle_id","name":"bundle_id","fields":["short",false]},{"id":"weight","name":"weight","fields":["float",false]},{"id":"ammo","name":"ammo","fields":["tiny",false]},{"id":"damage","name":"damage","fields":["short",false]},{"id":"damage_radius","name":"damage_radius","fields":["float",false]},{"id":"projectile_size","name":"projectile_size","fields":["float",false]},{"id":"force","name":"force","fields":["float",false]},{"id":"force_base","name":"force_base","fields":["float",false]},{"id":"force_gravity","name":"force_gravity","fields":["float",false]},{"id":"force_acceleration","name":"force_acceleration","fields":["float",false]},{"id":"force_rotation","name":"force_rotation","fields":["float",false]},{"id":"force_bounce","name":"force_bounce","fields":["float",false]},{"id":"force_curve","name":"force_curve","fields":["float",false]},{"id":"shoot_amount","name":"shoot_amount","fields":["tiny",false]},{"id":"burst_amount","name":"burst_amount","fields":["tiny",false]},{"id":"burst_interval","name":"burst_interval","fields":["float",false]},{"id":"shoot_delay","name":"shoot_delay","fields":["float",false]},{"id":"shoot_charge","name":"shoot_charge","fields":["float",false]},{"id":"shoot_release","name":"shoot_release","fields":["float",false]},{"id":"shoot_interval","name":"shoot_interval","fields":["float",false]},{"id":"shoot_cooldown_delay","name":"shoot_cooldown_delay","fields":["float",false]},{"id":"shoot_cooldown","name":"shoot_cooldown","fields":["float",false]},{"id":"shoot_inaccuracy","name":"shoot_inaccuracy","fields":["float",false]},{"id":"shoot_sway","name":"shoot_sway","fields":["float",false]},{"id":"shoot_knockback","name":"shoot_knockback","fields":["float",false]},{"id":"hit_knockback","name":"hit_knockback","fields":["float",false]},{"id":"explode_time","name":"explode_time","fields":["float",false]},{"id":"sticky_explode_time","name":"sticky_explode_time","fields":["float",false]},{"id":"can_headshot","name":"can_headshot","fields":["tiny",false]},{"id":"can_teleport","name":"can_teleport","fields":["tiny",false]},{"id":"can_gib","name":"can_gib","fields":["tiny",false]},{"id":"can_aim","name":"can_aim","fields":["tiny",false]},{"id":"is_exploding","name":"is_exploding","fields":["tiny",false]},{"id":"is_melee","name":"is_melee","fields":["tiny",false]},{"id":"is_sticky","name":"is_sticky","fields":["tiny",false]},{"id":"is_incendiary","name":"is_incendiary","fields":["tiny",false]},{"id":"is_stun","name":"is_stun","fields":["tiny",false]},{"id":"is_penetrating","name":"is_penetrating","fields":["tiny",false]},{"id":"is_equippable","name":"is_equippable","fields":["tiny",false]},{"id":"is_clipping","name":"is_clipping","fields":["tiny",false]},{"id":"is_fragmenting","name":"is_fragmenting","fields":["tiny",false]},{"id":"in_packs","name":"in_packs","fields":["tiny",false]},{"id":"is_mystery","name":"is_mystery","fields":["tiny",false]},{"id":"is_visible","name":"is_visible","fields":["tiny",false]},{"id":"is_enabled","name":"is_enabled","fields":["tiny",false]},{"id":"game_version","name":"game_version","fields":["short",false]},{"id":"recoil","name":"recoil","fields":["decimal",false]},{"id":"damage_mod_delta","name":"damage_mod_delta","fields":["decimal",false]},{"id":"range_mod_delta","name":"range_mod_delta","fields":["decimal",false]},{"id":"firerate_mod_delta","name":"firerate_mod_delta","fields":["decimal",false]},{"id":"accuracy_mod_delta","name":"accuracy_mod_delta","fields":["decimal",false]},{"id":"mobility_mod_delta","name":"mobility_mod_delta","fields":["decimal",false]}]},{"id":"CustomerLevel","name":"CustomerLevel","rows":[]},{"id":"GetAllProducts","name":"GetAllProducts","rows":[]}],"refs":[]}')},210:function(e,a,t){e.exports={container:"mac_container__YDixB",weak:"mac_weak__3A9TF"}},220:function(e,a,t){e.exports=t(446)},443:function(e,a,t){},445:function(e,a,t){},446:function(e,a,t){"use strict";t.r(a),t.d(a,"storage",(function(){return yi}));var n=t(51),i=t(7),l={},s=[],r=function(e){var a=null,t=[];l[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(null!==a)return s.push(["Execute",n]),a.apply(void 0,n);s.push(["Pending",n]),t.push(n)};return function(e){for(a=e;t.length>0;){var n=t.shift();s.push(["Execute pending item",n]),a.apply(void 0,Object(i.a)(n))}}};window.Diagram=l,window.Logger=s;var o,d,f=t(1),c=t(4),u=t(192),m=t(0),_=t.n(m),p=t(450),b=t(5),g=t(52),v=t.n(g),h=function(e){if(!e.isDragging())return null;if("row"!==e.getItemType())return null;var a=e.getClientOffset(),t=e.getItem();return null===t||null===a?null:{item:t,top:a.y,left:a.x}},y=_.a.memo((function(e){var a=e.top,t=e.left;return _.a.createElement("div",{style:{color:"var(--accent-2)"}},_.a.createElement("div",{className:v.a.icon,style:{top:a-8,left:t-8}},_.a.createElement(f.h,{path:b.a.locate,size:16})))})),w=_.a.memo((function(e){var a=Object(p.a)(h),t=_.a.useRef(null),n=null===a||void 0===a?void 0:a.item.elementRef,i=e.viewportRef;_.a.useEffect((function(){t.current=void 0===n?null:function(e,a){var t=e.current;if(null===t)throw Error("Viewport is not defined");var n=a.current;if(null===n)throw Error("Source drag is not defined");var i=n.getBoundingClientRect(),l=[i.top+i.height/2,i.left+i.width/2];return{top:l[0],left:l[1],scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}}(i,n)}),[i,n]);var l=t.current;if(null===a||null===l)return null;var s=e.viewportRef.current;if(null===s)throw Error("viewport is not defined");var r=s.scrollLeft-l.scrollLeft,o=s.scrollTop-l.scrollTop;return _.a.createElement("div",{className:v.a.container},_.a.createElement("svg",{className:v.a.svg},_.a.createElement("line",{className:v.a.line,x1:l.left-r,y1:l.top-o,x2:a.left,y2:a.top})),_.a.createElement(y,{top:a.top,left:a.left}))})),E=function(e,a){var t=e.get(a.table);if(!t)throw Error('Table Ids "'.concat(a.table,'" not found'));var n=a.rows.map((function(e){var a=t.rows.get(e);if(!a)throw Error('Row id "'.concat(e,'" not found'));return a})),i=t.table;return{name:i.name,schema:i.schema,rows:n}},x=function(e){var a=e.columns.map((function(e){return e.value})),t=e.tables.map((function(e){var a=e.value.rows.map((function(e){return e.value})),t=e.value;return{id:t.id,name:t.name,schema:t.schema,rows:a}})),n=function(e){var a=new Map;return e.forEach((function(e){var t=new Map;e.value.rows.forEach((function(e){t.set(e.id,e.value.id)}));var n={name:e.value.name,schema:e.value.schema};a.set(e.id,{table:n,rows:t})})),a}(e.tables);return{columns:a,items:t,refs:e.refs.map((function(e){return{from:E(n,e.from),to:E(n,e.to)}})),schema:e.schema}},j=r("importDiagram"),k=function(e,a){_.a.useEffect((function(){j((function(e){a({type:"parse-json",payload:{text:e,isAppend:!1}})}))}),[a]),_.a.useEffect((function(){var a;a=function(){return JSON.stringify(x(e))},l["exportDiagram"]=a}),[e])},I=t(2),O=function(e){return"table . ".concat(e)},S=function(e){var a=document.getElementById(O(e));if(a instanceof HTMLDivElement)return a;throw Error("Element is not HTMLDivElement")},z=function(e,a){return{width:224,height:24*(a?e.value.rows.length:Math.min(e.value.rows.length,51))+72}},T=t(115),D=t.n(T),R=function(e){return 8*Math.round(e/8)},M=function(e){var a,t,n,i=new D.a.graphlib.Graph({multigraph:!0});return i.setGraph({rankdir:"LR",nodesep:96,ranksep:96,marginx:48,marginy:48}),i.setDefaultEdgeLabel((function(){return{}})),e.tables.forEach((function(e){var a=function(e){try{var a=S(e.id);if(a.dataset.name!==e.value.name)throw Error("Outdated table from previous diagram");return{width:a.clientWidth,height:a.clientHeight}}catch(t){return z(e)}}(e),t=a.width,n=a.height;i.setNode(e.id.toString(),{label:"",width:t,height:n})})),e.refs.forEach((function(e){i.setEdge(e.from.table.toString(),e.to.table.toString())})),D.a.layout(i),{tables:e.tables.map((function(e){var a=i.node(e.id.toString()),t={top:0,left:0};return t.top=R(a.y-a.height/2),t.left=R(a.x-a.width/2),Object(I.a)(Object(I.a)({},e),{},{position:t})})),refs:e.refs,size:{width:(n=null!==(a=i.graph().width)&&void 0!==a?a:-1,320*Math.ceil(n/320)),height:R(null!==(t=i.graph().height)&&void 0!==t?t:-1)}}},N=function(e){return e.height*e.width},L=function(e){var a=e.map((function(e){return{id:e.tables[0].id,width:e.size.width,height:e.size.height}})),t=function(e){var a=e.reduce((function(e,a){return e>a.width?e:a.width}),-1/0),t=e.reduce((function(e,a){return e+N(a)}),0),n=2*Math.sqrt(t/2),i=Math.max(n,a);return Math.ceil(i/320)}(a),n=Array(t).fill(0),i=new Map,l=function(e){return n.map((function(a,t){return{leftIndex:t,top:function(e,a){if(e+a>n.length)return 1/0;for(var t=-1/0,i=0;i<a;i++){var l=n[e+i];t=Math.max(l,t)}return t}(t,e)}})).reduce((function(e,a){return a.top<e.top?a:e}))};return a.sort((function(e,a){return N(a)-N(e)})).forEach((function(e){for(var a=e.width/320,t=l(a),s=t.top+e.height,r=0;r<a;r++)n[t.leftIndex+r]=s;i.set(e.id,{left:320*t.leftIndex,top:t.top})})),i},A=function(e){var a,t,n=e.diagrams,i=e.masonry,l=0,s=0;n.forEach((function(e){var a=i.get(e.tables[0].id);if(void 0===a)throw Error("position is undefined");var t=a.left+e.size.width;l=Math.max(l,t);var n=a.top+e.size.height;s=Math.max(s,n)}));var r=[l+96,s+96];l=r[0],s=r[1];var o=null!==(a=null===(t=document.getElementById("canvas"))||void 0===t?void 0:t.parentElement)&&void 0!==a?a:null;return null!==o&&(l=Math.max(o.clientWidth,l),s=Math.max(o.clientHeight,s)),{width:l,height:s}},q=function(e){var a=[];if(e.diagrams.forEach((function(t){var n=e.masonry.get(t.tables[0].id);if(void 0===n)throw Error("translate is undefined");t.tables.forEach((function(e){var t={top:n.top+e.position.top+48,left:n.left+e.position.left+48};a.push(Object(I.a)(Object(I.a)({},e),{},{position:t}))}))})),a.length===e.originalDiagram.tables.length)return a;throw Error("new tables and old tables have different length")},V=function(e){var a=[],t=new Map,n=new Map;e.tables.forEach((function(e){n.set(e.id,e)}));var i=new Map;return e.refs.forEach((function(e){var a,t,n=[e.from.table,e.to.table],l=n[0],s=n[1];i.set(l,(null!==(a=i.get(l))&&void 0!==a?a:[]).concat(e)),i.set(s,(null!==(t=i.get(s))&&void 0!==t?t:[]).concat(e))})),e.tables.forEach((function(e){if(!0!==t.get(e.id)){var l={tables:[],refs:[],size:{width:0,height:0}};!function e(a,t){var n,i,l=a.diagram,s=a.done,r=a.refMap,o=a.tableMap;!0!==s.get(t.id)&&(l.tables.push(t),null===(n=r.get(t.id))||void 0===n||n.forEach((function(e){l.refs.includes(e)||l.refs.push(e)})),s.set(t.id,!0),(null!==(i=r.get(t.id))&&void 0!==i?i:[]).forEach((function(t){var n=o.get(t.from.table),i=o.get(t.to.table);if(void 0===n||void 0===i)throw Error('"fromTable" or "toTable" is undefined');e(a,n),e(a,i)})))}({diagram:l,done:t,tableMap:n,refMap:i},e),a.push(l)}})),a.forEach((function(e){M(e)})),a},F=function(e){var a=V(e);a=a.map(M);var t,n=L(a);return{columns:(t={originalDiagram:e,masonry:n,diagrams:a}).originalDiagram.columns,tables:q(t),refs:t.originalDiagram.refs,size:A(t),schema:t.originalDiagram.schema}},P=function(e,a,t){var n,i=null!==(n=t.schema)&&void 0!==n?n:e,l=a.get("".concat(i," . ").concat(t.name));if(void 0===l)throw Error('Table Ids "'.concat(t.name,'" not found'));var s=t.rows.map((function(e){var a=l.rows.get(e);if(void 0===a)throw Error('Row id "'.concat(e,'" not found'));return a}));return{table:l.table,rows:s}},C=function(e,a){return{value:{rows:e.rows.map((function(e,a){return{id:a,value:e}})),name:e.name,id:e.id,schema:e.schema},position:{top:0,left:0},id:a}},H=function(e,a){return{id:a,value:e}},B=function(e){var a=e.schema,t=e.columns.map(H),n=e.items.map(C),i=function(e,a){var t=new Map;return a.forEach((function(a){var n,i=new Map;a.value.rows.forEach((function(e){i.set(e.value.id,e.id)}));var l=null!==(n=a.value.schema)&&void 0!==n?n:e,s="".concat(l," . ").concat(a.value.name);t.set(s,{table:a.id,rows:i})})),t}(a,n),l=e.refs.map(function(e,a){return function(t,n){return{id:n,from:P(e,a,t.from),to:P(e,a,t.to)}}}(a,i));return F({tables:n,refs:l,columns:t,size:{width:0,height:0},schema:a})},U=t(194),J=t.n(U),K=t(195),W=new J.a({strictDefaults:!0,strictKeywords:!0}),G=W.compile(K),Q=t(75),Y=t(196),Z=t(217),$=t(219),X=function(e){Object(Y.a)(t,e);var a=Object(Z.a)(t);function t(e){var n;return Object(Q.a)(this,t),(n=a.call(this,e)).name="SemanticError",n}return t}(Object($.a)(Error)),ee=function(e,a){return new X("".concat(e," has an invalid reference to ").concat(a))},ae=function(e,a,t){var n=e.items.find((function(t){return t.name===a.name&&function(e,a,t){var n,i;return(null!==(n=a.schema)&&void 0!==n?n:e.schema)===(null!==(i=t.schema)&&void 0!==i?i:e.schema)}(e,a,t)}));if(!n)throw ee("Ref #".concat(t),'table "'.concat(a.name,'"'));a.rows.forEach((function(e){if(!n.rows.some((function(a){return a.id===e})))throw ee("Ref #".concat(t,".rows"),'row "'.concat(e,'"'))}))},te=function(e){!function(e){var a=e.items.map((function(e){return e.id}));if(new Set(a).size!==a.length)throw Error("items.ids are not unique")}(e),e.items.forEach((function(e){!function(e){var a=e.rows.map((function(e){return e.id}));if(new Set(a).size!==a.length)throw Error("tables.".concat(e.id,".rows.ids are not unique"))}(e)})),e.refs.forEach((function(a,t){ae(e,a.from,t),ae(e,a.to,t)}))},ne=function(e,a){for(var t=new Set(e),n=1,i=a(n);t.has(i);)i=a(n+=1);return i},ie=function(e,a){return ne(e,(function(e){return 1===e?a:"".concat(a,"_").concat(e)}))},le=function(e){return ne(e,(function(e){return e}))},se=function(e){var a=e.map((function(e){return e.value.id}));return{id:le(e.map((function(e){return e.id}))),value:{id:ie(a,"column")}}},re=function(e,a){var t=function(e,a){return function(a){if(a.id!==e.tableId)return a;var t=se(a.value.rows),n=a.value.rows.concat(t);return Object(I.a)(Object(I.a)({},a),{},{value:Object(I.a)(Object(I.a)({},a.value),{},{rows:n})})}}(a,e.columns);return Object(I.a)(Object(I.a)({},e),{},{tables:e.tables.map(t)})},oe=function(e,a){return Math.max(a.position.left,e)},de=function(e){return{top:96,left:e.reduce(oe,0)+320}},fe=function(e,a){var t=Math.max(e.width,a.left+320);return t===e.width?e:Object(I.a)(Object(I.a)({},e),{},{width:t})},ce=function(e,a){try{var t=JSON.parse(a.text);!function(e){if(G(e))return!0;var a=G.errors;throw SyntaxError(W.errorsText(a,{dataVar:"diagram"}))}(t),te(t);var n=B(t);return a.isAppend?function(e,a){if(e.columns.length!==a.columns.length)throw Error("Cannot merge diagrams with different columns");var t=e.tables.map((function(e){return e.id})),n=de(e.tables);n.top=n.top-96,n.left=n.left-96;var l=Object(i.a)(e.tables);a.tables.forEach((function(e){var a=le(t);t.push(a);var i={top:e.position.top+n.top,left:e.position.left+n.left};l.push(Object(I.a)(Object(I.a)({},e),{},{id:a,position:i}))}));var s=n.left+a.size.width,r=Object(I.a)(Object(I.a)({},e.size),{},{width:s});return Object(I.a)(Object(I.a)({},e),{},{tables:l,size:r})}(e,n):n}catch(l){return window.alert(function(e){if(!(e instanceof Error))throw e;return["There was an error while parsing your json:\n","".concat(e.name,": ").concat(e.message)].join(" ")}(l)),e}},ue=function(e,a){var t=e.refs.filter((function(e){return e.id!==a.id}));return Object(I.a)(Object(I.a)({},e),{},{refs:t})},me=function(e,a){switch(a.type){case"add-ref":return function(e,a){var t=e.refs.filter((function(e){return!function(e,a){return e.from.table===a.from.table&&e.from.rows.some((function(e){return a.from.rows.includes(e)}))}(e,a)})),n=e.refs.map((function(e){return e.id})),i=Object(I.a)(Object(I.a)({},a),{},{id:le(n)});return t.push(i),Object(I.a)(Object(I.a)({},e),{},{refs:t})}(e,a.payload);case"remove-ref":return ue(e,a.payload);case"remove-multiple-refs":return function(e,a){var t=e;return a.ids.forEach((function(e){t=ue(t,{id:e})})),t}(e,a.payload);default:return e}},_e=function(e,a){return a.table===e.tableId&&a.rows.includes(e.rowId)},pe=function(e,a){var t=e.tables.map(function(e){return function(a){if(a.id!==e.tableId)return a;var t=a.value.rows.filter((function(a){return a.id!==e.rowId}));return Object(I.a)(Object(I.a)({},a),{},{value:Object(I.a)(Object(I.a)({},a.value),{},{rows:t})})}}(a)),n=e.refs.filter((function(e){return!function(e,a){return _e(e,a.from)||_e(e,a.to)}(a,e)}));return n.length===e.refs.length&&(n=e.refs),Object(I.a)(Object(I.a)({},e),{},{tables:t,refs:n})},be=function(e){return function(a){if(a.id!==e.tableId)return a;var t=a.value.rows.map(function(e){return function(a){if(a.id!==e.rowId)return a;var t=Object(I.a)({},a.value);return t[e.property]=e.value,Object(I.a)(Object(I.a)({},a),{},{value:t})}}(e));return Object(I.a)(Object(I.a)({},a),{},{value:Object(I.a)(Object(I.a)({},a.value),{},{rows:t})})}},ge=function(e,a){if(function(e,a){var t,n=a.tableId,i=a.rowId,l=a.property,s=a.value,r=null===(t=e.tables.find((function(e){return e.id===n})))||void 0===t?void 0:t.value.rows.find((function(e){return e.id===i}));if(!r)throw Error('Row "'.concat(n,".").concat(i,'" not found'));return r.value[l]===s}(e,a))return e;var t=e.tables.map(be(a));return Object(I.a)(Object(I.a)({},e),{},{tables:t})},ve=function(e,a){var t=e.tables.filter((function(e){return e.id!==a.id})),n=e.refs.filter((function(e){return!function(e,a){return a.from.table===e.id||a.to.table===e.id}(a,e)}));return Object(I.a)(Object(I.a)({},e),{},{tables:t,refs:n})},he=function(e,a){var t=e.tables.map(function(e){return function(a){return a.id!==e.id?a:Object(I.a)(Object(I.a)({},a),{},{value:Object(I.a)(Object(I.a)({},a.value),{},{name:e.name})})}}(a));return Object(I.a)(Object(I.a)({},e),{},{tables:t})},ye=function(e,a){switch(a.type){case"add-table":return function(e,a){var t,n=e.tables.map((function(e){return e.value.id})),i=ie(n,"table"),l=se([]),s={id:null!==(t=a.id)&&void 0!==t?t:le(e.tables.map((function(e){return e.id}))),value:{name:i,id:i,schema:"new",rows:[l]},position:de(e.tables)};return Object(I.a)(Object(I.a)({},e),{},{tables:e.tables.concat(s),size:fe(e.size,s.position)})}(e,a.payload);case"remove-table":return ve(e,a.payload);case"remove-multiple-tables":return function(e,a){var t=e;return a.ids.forEach((function(e){t=ve(t,{id:e})})),t}(e,a.payload);case"update-table-name":return he(e,a.payload);case"set-table-position":return function(e,a){return Object(I.a)(Object(I.a)({},e),{},{tables:e.tables.map((function(e){return e.id!==a.id?e:Object(I.a)(Object(I.a)({},e),{},{position:a.position})}))})}(e,a.payload);default:return e}},we=["localhost","diagramplus.com"],Ee=we.includes(window.location.hostname)||window.location.hostname.startsWith("192.168.1")?"web":navigator.platform.toLowerCase().includes("mac")?"mac":"web",xe=_.a.createContext(Ee),je=function(){return _.a.useContext(xe)},ke=r("setPlatform"),Ie=B({columns:[{id:"0",name:"name",type:"string"},{id:"1",name:"type",type:"string"},{id:"2",name:"nullable",type:"boolean"}],schema:"main",items:[],refs:[]}),Oe=B({columns:[{id:"0",name:"name",type:"string"},{id:"1",name:"type",type:"string"},{id:"2",name:"nullable",type:"boolean"}],schema:"primary",items:[{id:"employees",name:"employees",rows:[{id:"emp_no",name:"emp_no",type:"int(11)",nullable:"FALSE"},{id:"birth_date",name:"birth_date",type:"date",nullable:"TRUE"},{id:"first_name",name:"first_name",type:"varchar(14)",nullable:"TRUE"},{id:"last_name",name:"last_name",type:"varchar(16)",nullable:"TRUE"}]},{id:"departments",name:"departments",schema:"secondary",rows:[{id:"dept_no",name:"dept_no",type:"char(4)",nullable:"FALSE"},{id:"dept_name",name:"dept_name",type:"varchar(40)",nullable:"FALSE"}]},{id:"dept_emp",name:"dept_emp",rows:[{id:"dept_no",name:"dept_no",type:"char(4)",nullable:"FALSE"},{id:"emp_no",name:"emp_no",type:"int(11)",nullable:"FALSE"},{id:"from_date",name:"from_date",type:"date",nullable:"TRUE"},{id:"to_date",name:"to_date",type:"date",nullable:"TRUE"}]}],refs:[{from:{name:"dept_emp",schema:"primary",rows:["dept_no"]},to:{name:"departments",schema:"secondary",rows:["dept_no"]}},{from:{name:"dept_emp",rows:["emp_no"]},to:{name:"employees",rows:["emp_no"]}}]}),Se=["There was an error while parsing the locally saved diagram. The app will ","now fallback to a sample diagram.\n\n","Your previous diagram is still available in your localStorage under the ",'key "'.concat("diagram",'-invalid". Please contact us if you need help '),"retrieving it."].join(""),ze=function(){var e=_.a.useContext(n.b);if(null===e)throw Error("Storage context not found");var a=je();return _.a.useMemo((function(){return"web"===a?{get:function(){return function(e){var a=e.getItem("diagram");if(null===a)return Oe;try{return JSON.parse(a)}catch(t){return e.setItem("".concat("diagram","-invalid"),a),window.alert(Se),Oe}}(e)},set:function(a){return function(e,a){e.setItem("diagram",JSON.stringify(a))}(e,a)}}:{get:function(){return Ie},set:function(){}}}),[e,a])},Te=function(e){var a=e.history,t=e.dispatch;m.useEffect((function(){var e=function(e){return function(a){if((a.ctrlKey||a.metaKey)&&!(a.target instanceof HTMLInputElement)&&!(a.target instanceof HTMLTextAreaElement))switch(a.key){case"z":if(0===e.history.past.length)return;return e.dispatch({type:"undo"});case"Z":case"y":if(0===e.history.future.length)return;return e.dispatch({type:"redo"})}}}({history:a,dispatch:t});return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[a,t])},De=t(116),Re=(o=function(e,a){var t=e;return t=function(e,a){switch(a.type){case"add-row":return re(e,a.payload);case"remove-row":return pe(e,a.payload);case"update-row":return ge(e,a.payload);default:return e}}(t=ye(t,a),a),t=function(e,a){switch(a.type){case"set-layout":switch(a.payload.type){case"auto":return F(e);default:return e}default:return e}}(t=function(e,a){switch(a.type){case"parse-json":return ce(e,a.payload);default:return e}}(t=me(t,a),a),a)},function(e,a){switch(a.type){case"undo":var t=Object(De.a)(e.past),n=t[0];return{past:t.slice(1),present:n,future:[e.present].concat(Object(i.a)(e.future))};case"redo":var l=Object(De.a)(e.future),s=l[0],r=l.slice(1);return{past:[e.present].concat(Object(i.a)(e.past)),present:s,future:r};default:var d=o(e.present,a),f=[e.present].concat(Object(i.a)(e.past));return{past:f=f.length<20?f:f.slice(0,20),present:d,future:[]}}}),Me=function(e){return function(){e.setSelectIds([{type:"ref",value:e.refId}])}},Ne=t(12),Le=t.n(Ne),Ae=function(e){return"edge . ".concat(e)},qe=function(e,a,t){return"edge . ".concat(e," . ").concat(a," . ").concat(null!==t&&void 0!==t?t:0)},Ve=function(e,a,t){var n=qe(e,a,t),i=document.getElementById(n);if(i instanceof SVGElement)return i;throw Error("Element is not SVGElement")},Fe=function(e){return{cx:e.x.toString(),cy:e.y.toString()}},Pe=function(e){return m.createElement(m.Fragment,null,e.points.inners.map((function(a,t){return m.createElement("circle",Object.assign({key:t,id:qe(e.edge.id,"from",t),className:Le.a.from},Fe(a),{r:"4"}))})))},Ce=function(e,a){return"row . ".concat(e," . ").concat(a)},He=function(e,a){var t=a.top,n=a.left,i=S(e.table);return e.rows.map((function(a){var l=function(e,a){var t=document.getElementById(Ce(e,a));return t instanceof HTMLDivElement?t:null}(e.table,a);if(null!==l){var s=function(e,a){var t=0,n=0,i=e;do{var l=[t+i.offsetTop,n+i.offsetLeft];t=l[0],n=l[1];var s=i.offsetParent;if(!(s instanceof HTMLElement))break;i=s}while(i!==a);return{top:t,left:n}}(l,i),r=s.top,o=s.left,d=r+t+l.clientHeight/2,f=o+n;return{top:d,left:f,right:f+l.clientWidth}}return{top:t+i.clientHeight/2,left:n,right:n+i.clientWidth}}))},Be={attributeFilter:["data-is-visible"]},Ue=function(e){if(0===e.length)return"";if(1===e.length)throw Error("points.length must be 0 or 2+");return["M".concat(e[0].x,",").concat(e[0].y)].concat(Object(i.a)(e.slice(1).map((function(e){return"L".concat(e.x,",").concat(e.y)})))).join(" ")},Je=function(e){return e.reduce((function(a,t,n){if(0===n)return 0;var i=t.x,l=t.y,s=e[n-1],r=s.x,o=s.y;return a+Math.sqrt(Math.pow(i-r,2)+Math.pow(l-o,2))}),0)},Ke=function(e){return function(a){return{x:"left"===e?a.left:a.right,y:a.top}}},We=function(e,a){return{x:e[0].x+32*("right"===a?1:-1),y:e[0].y}},Ge=function(e){var a=function(e){var a=[e.from[0],e.to[0]],t=a[0],n=a[1],i="right",l="right";t.right<=n.left-64?(i="right",l="left"):t.left>=n.right+64&&(i="left",l="right");var s=e.from.map(Ke(i)),r=We(s,i),o=e.to.map(Ke(l));return{from:{inners:s,side:i,outer:r},to:{inners:o,side:l,outer:We(o,l)}}}(e),t=a.from,n=a.to;return{from:t,mid:function(e){var a=e.from,t=e.to;if(a.side!==t.side){var n=(a.outer.x+t.outer.x)/2;return[{x:n,y:a.outer.y},{x:n,y:t.outer.y}]}if(a.side===t.side){if(a.outer.y===t.outer.y)return[];var i="right"===a.side?a.outer.x>t.outer.x?[a,t]:[t,a]:a.outer.x<t.outer.x?[a,t]:[t,a],l=Object(c.a)(i,2),s=l[0],r=l[1];return[{x:s.outer.x,y:r.outer.y}]}throw Error("never")}({from:t,to:n}),to:n}},Qe=function(e){var a=function(e){return{from:He(e.edge.from,e.fromTable.position),to:He(e.edge.to,e.toTable.position)}}(e),t=Ge(a);return{points:t,path:function(e){var a=e.from,t=e.mid,n=e.to,l=[a.inners[0],a.outer].concat(Object(i.a)(t),[n.outer,n.inners[0]]),s=a.inners.slice(1).flatMap((function(e){return[e,a.outer]})),r=n.inners.slice(1).flatMap((function(e){return[e,n.outer]}));return{main:Ue(l),length:Je(l),from:Ue(s),to:Ue(r)}}(t)}},Ye=function(e){var a=e.edge,t=e.fromTable,n=e.toTable,i=function(e){var a=m.useState({}),t=Object(c.a)(a,2),n=t[0],i=t[1];return m.useLayoutEffect((function(){var a=S(e.from.table),t=S(e.to.table),n=function(){return i({})},l=new ResizeObserver(function(e){return function(){e()}}(n));l.observe(a),l.observe(t);var s=new MutationObserver(function(e){return function(a){a.forEach((function(a){"attributes"===a.type&&"data-is-visible"===a.attributeName&&e()}))}}(n));return s.observe(a,Be),s.observe(t,Be),function(){s.disconnect(),l.disconnect()}}),[e]),n}(a),l=m.useState(null),s=Object(c.a)(l,2),r=s[0],o=s[1],d=m.useRef(0);return m.useLayoutEffect((function(){return window.clearTimeout(d.current),d.current=window.setTimeout((function(){var e=Qe({edge:a,fromTable:t,toTable:n});o(e)}),0),function(){return window.clearTimeout(d.current)}}),[a,t,n,i]),r},Ze=function(e,a,t){return"left"===e?"rotate(180, ".concat(a,", ").concat(t,")"):""},$e=function(e,a){var t=a.x,n=a.y;return{transform:Ze(e,t,n),points:["".concat(t+9,",").concat(n-4),"".concat(t+9,",").concat(n+4),"".concat(t+1,",").concat(n)].join(" ")}},Xe=function(e){return m.createElement(m.Fragment,null,e.points.inners.map((function(a,t){return m.createElement("polygon",Object.assign({key:t,className:Le.a.to,id:qe(e.edge.id,"to",t)},$e(e.points.side,a)))})))},ea=function(e){return m.createElement("circle",{className:Le.a.dot,r:"4"},m.createElement("animateMotion",{dur:"".concat(e.path.length/150,"s"),repeatCount:"indefinite",id:qe(e.edge.id,"highlight"),path:e.path.main}))},aa=function(e){var a=[Le.a.container];return e.isSelected&&a.push(Le.a.selected),a.join(" ")},ta=_.a.memo((function(e){e.edge.from.rows,e.edge.to.rows;var a=e.edge,t=e.fromTable,n=e.toTable,i=Ye({edge:a,fromTable:t,toTable:n});if(null===i)return null;var l=i.path,s=i.points;return _.a.createElement("g",{id:Ae(e.edge.id),className:aa(e)},_.a.createElement("path",{id:qe(a.id,"path-main"),className:Le.a.path,d:l.main}),_.a.createElement("path",{className:Le.a.path,d:l.from}),_.a.createElement("path",{className:Le.a.path,d:l.to}),_.a.createElement(Pe,{edge:e.edge,points:s.from}),_.a.createElement(Xe,{edge:e.edge,points:s.to}),e.isSelected&&_.a.createElement(ea,{edge:e.edge,path:l}),_.a.createElement("path",{className:Le.a.hitarea,d:l.main,onClick:Me({refId:e.edge.id,setSelectIds:e.setSelectIds})}))})),na=t(197),ia=t.n(na),la=t(198),sa=t.n(la),ra=function(e,a){Object.entries(e).forEach((function(e){var t=Object(c.a)(e,2),n=t[0],i=t[1];a.setAttribute(n,i)}))},oa=function(e){return function(a,t){var n={left:e.table.position.left+t.x,top:e.table.position.top+t.y},i=Object(I.a)(Object(I.a)({},e.table),{},{position:n});e.relatedEdges.forEach(function(e){return function(a){var t=a.edge,n=a.table,i=t.to.table===e.id?[n,e]:[e,n],l=Object(c.a)(i,2),s=l[0],r=l[1],o=Qe({edge:t,fromTable:s,toTable:r}),d=o.path,f=o.points;Ve(t.id,"path-main").setAttribute("d",d.main),f.from.inners.forEach((function(e,a){var n=Ve(t.id,"from",a),i=Fe(e);ra(i,n)})),f.to.inners.forEach((function(e,a){var n=Ve(t.id,"to",a),i=$e(f.to.side,e);ra(i,n)}));try{Ve(t.id,"highlight").setAttribute("path","")}catch(u){}}}(i))}},da=function(e){return 16*Math.round(e/16)},fa=function(e){return function(a,t){if(0!==t.x||0!==t.y){var n={left:e.table.position.left+da(t.x),top:e.table.position.top+da(t.y)};e.diagramDispatch({type:"set-table-position",payload:{id:e.table.id,position:n}})}}},ca=function(e,a){return e.filter((function(e){return e.type===a})).map((function(e){return e.value}))},ua=function(e){return{tables:new Set(ca(e,"table")),refs:new Set(ca(e,"ref"))}},ma=t(199),_a=t.n(ma),pa=function(e){return function(){var a={tableId:e.tableId};e.diagramDispatch({type:"add-row",payload:a})}},ba=function(e){return _.a.createElement("div",{className:_a.a.container},_.a.createElement(f.c,{onClick:pa(e),icon:b.a.add,size:f.c.size.small,style:f.c.style.flat,isFullWidth:!0},"Add"))},ga=t(117),va=t.n(ga),ha=function(e,a){return a?e.previousElementSibling:e.nextElementSibling},ya=function(e,a){var t=e.closest(".table-row");if(null===t)throw Error(".table-row is null");for(var n=ha(t,a);null!==n;){if(n.classList.contains("table-row"))return n;n=ha(n,a)}return null},wa=function(e,a){if("first"===a){var t=e.querySelector(".row-control");if(null!==t)return t}else{var n=e.querySelectorAll(".row-control"),i=n["last"===a?n.length-1:a];if(void 0!==i)return i}throw Error(".table-row doesn't have .row-control")},Ea=function(e,a){switch(a){case"ArrowRight":case"ArrowLeft":var t="ArrowLeft"===a,n=ha(e,t);if(null!==n&&n.classList.contains("row-control"))return n;var l=ya(e,t);return null===l?null:wa(l,t?"last":"first");case"ArrowUp":case"ArrowDown":var s=ya(e,"ArrowUp"===a);if(null===s)return null;var r=function(e){var a=e.closest(".table-row");if(null===a)throw Error(".table-row is null");var t=a.querySelectorAll(".row-control"),n=Object(i.a)(t).indexOf(e);if(-1!==n)return n;throw Error("curr is not a child of parent")}(e);return wa(s,r)}return null},xa=function(e){var a=e.target;if(a instanceof HTMLElement&&!(a instanceof HTMLInputElement)){var t=a.closest(".row-control");if(null!==t){e.preventDefault();var n=Ea(t,e.key);null!==n&&function(e){var a=e.querySelector("select,input,button,[tabindex]");if(a instanceof HTMLElement)return a.focus();throw Error("No focusable element under row-control")}(n)}}},ja=function(e){switch(e.key){case"ArrowUp":case"ArrowRight":case"ArrowDown":case"ArrowLeft":return xa(e)}},ka=t(84),Ia=t.n(ka),Oa=[f.q.secondary,f.r.weak,Ia.a.container,f.u.muted].join(" "),Sa=function(e,a){var t=[Ia.a.field,1===a?Ia.a.rightField:""].join(" ");return _.a.createElement("div",{key:e.id,className:t,children:e.value.name})},za=function(e){return _.a.createElement("div",{className:Oa},_.a.createElement(f.g,{size:8}),_.a.createElement("div",{className:f.c.size.small.main},_.a.createElement(f.h,{path:b.a.blank,size:f.c.size.small.iconSize})),e.columns.slice(0,e.isExpand?void 0:2).map(Sa),_.a.createElement(f.c,{onClick:function(){return e.setIsExpand((function(e){return!e}))},style:f.c.style.flat,size:f.c.size.small,icon:(a=e.isExpand,a?b.a.doubleChevronLeft:b.a.doubleChevronRight)}),_.a.createElement(f.g,{size:8}));var a},Ta=t(452),Da=t(453),Ra=t(190),Ma=t(118),Na=t.n(Ma),La=function(e){var a=_.a.useRef(null),t=e.rowId,n=e.tableId,i=Object(Da.a)({item:{type:"row",rowId:t,tableId:n,elementRef:a},begin:function(){return function(e){if(null!==e.edge){var a={id:e.edge.id};e.diagramDispatch({type:"remove-ref",payload:a})}}(e)},end:function(a,t){return function(e,a){var t=a.getDropResult();if(null!==t){var n={from:{table:e.tableId,rows:[e.rowId]},to:{table:t.tableId,rows:[t.rowId]}};e.diagramDispatch({type:"add-ref",payload:n})}}(e,t)},collect:function(a){return function(e,a){if(!1===a.isDragging())return!1;if("row"!==a.getItemType())return!1;var t=a.getItem(),n=t.tableId,i=t.rowId;return e.tableId===n&&e.rowId===i}(e,a)}}),l=Object(c.a)(i,3),s=l[0],r=l[1],o=l[2];_.a.useEffect((function(){o(Object(Ra.a)())}),[o]),_.a.useEffect((function(){r(a)}),[r]);var d=_.a.useState(!1),u=Object(c.a)(d,2),m=u[0],p=u[1],g=s||m||null!==e.edge,v=_.a.createElement(f.h,{path:g?b.a.selection:b.a.circle,size:f.c.size.small.iconSize});return _.a.createElement("div",{ref:a,className:Na.a.container,onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},_.a.createElement("div",{className:[s?Na.a.dragging:"",f.c.style.flat.main,f.c.size.small.main,"react-draggable-cancel"].join(" "),children:v}))},Aa=t(200),qa=t.n(Aa),Va=["T","t","1","Y","y"],Fa=function(e){return m.createElement("div",{className:[qa.a.container].join(" ")},m.createElement(f.n,{value:(a=e.value,!!Va.includes(a.charAt(0))),setValue:function(a){e.setValue(a?"TRUE":"FALSE")},options:[{value:!0,label:"TRUE"},{value:!1,label:"FALSE"}],style:f.n.style.flat,size:f.n.size.small}));var a},Pa=t(201),Ca=t.n(Pa),Ha={current:!1,timeout:0},Ba=t(53),Ua=t.n(Ba),Ja=function(e){return m.createElement("div",{className:Ua.a.edit},m.createElement(f.i,{key:e.value,defaultValue:e.value,style:f.i.style.flat,size:f.i.size.small,autoFocus:!0,onBlur:function(a){e.setValue(a.currentTarget.value),e.setIsEdit(!1)},onKeyDown:function(e){"Tab"===e.key&&(window.clearTimeout(Ha.timeout),Ha.current=!0,Ha.timeout=window.setTimeout((function(){Ha.current=!1}),500))},onKeyUp:function(a){"Enter"===a.key&&(e.setValue(a.currentTarget.value),e.setIsEdit(!1),function(e){window.setTimeout((function(){var a=e.viewRef.current;if(null===a)throw Error("View is null");a.focus()}),0)}(e))}}))},Ka=[Ua.a.view,f.s.always,f.i.size.small.main,"react-draggable-cancel","row-input-string-view"].join(" "),Wa=function(e){var a=e.value;return 0!==a.length?m.createElement("span",null,a):m.createElement("span",{className:Ua.a.empty},"<empty>")},Ga=function(e){return m.createElement("div",{tabIndex:0,children:m.createElement(Wa,{value:e.value}),className:Ka,onDoubleClick:function(){e.setIsEdit(!0)},onFocus:function(){Ha.current&&e.setIsEdit(!0)},onKeyUp:function(a){"Enter"===a.key&&e.setIsEdit(!0)},ref:e.viewRef})},Qa=function(e){var a=m.useState(!1),t=Object(c.a)(a,2),n=t[0],i=t[1],l=m.useRef(null),s=Object(I.a)(Object(I.a)({},e),{},{isEdit:n,setIsEdit:i,viewRef:l});return m.createElement("div",{className:[Ua.a.container].join(" ")},n?m.createElement(Ja,s):m.createElement(Ga,s))},Ya=function(e){return function(a){var t=e.tableId,n=e.row,i=[e.column.value.name,n.id],l=i[0],s=i[1];if(a!==n.value[l]){var r={tableId:t,rowId:s,property:l,value:a};e.diagramDispatch({type:"update-row",payload:r})}}},Za=function(e){var a;return _.a.createElement("div",{className:e.isRight?"".concat(Ca.a.right," ").concat(f.u.muted):""},function(e){var a=e.column.value.type;switch(a){case"boolean":return Fa;case"string":return Qa;default:throw Error('Unknown column type "'.concat(a,'"'))}}(e)({value:null!==(a=e.row.value[e.column.value.name])&&void 0!==a?a:"",setValue:Ya(e)}))},$a=function(e){var a={tableId:e.tableId,rowId:e.rowId};e.diagramDispatch({type:"remove-row",payload:a})},Xa=t(202),et=t.n(Xa),at=function(e){return function(){var a={tableId:e.tableId,rowId:e.row.id};e.diagramDispatch({type:"remove-row",payload:a})}},tt=function(e){return _.a.createElement("div",{className:[et.a.container].join(" ")},_.a.createElement(f.c,{onClick:at(e),style:f.c.style.flat,size:f.c.size.small,icon:b.a.remove}))},nt=t(119),it=t.n(nt),lt=_.a.memo((function(e){e.tableId,e.row.id,e.row.value.id;var a,t=(a={tableId:e.tableId,rowId:e.row.id},Object(Ta.a)({accept:"row",drop:function(){return{tableId:a.tableId,rowId:a.rowId}},collect:function(e){return e.isOver()}})),n=Object(c.a)(t,2),i=n[0],l=n[1];return _.a.createElement("div",Object.assign({},function(e){var a=_.a.useRef(!1);return{onKeyDown:function(e){["Delete","Backspace"].includes(e.key)&&e.target instanceof HTMLInputElement&&(a.current=""===e.target.value)},onKeyUp:function(t){["Delete","Backspace"].includes(t.key)&&(t.target instanceof HTMLInputElement?a.current&&$a(e):$a(e))}}}({diagramDispatch:e.diagramDispatch,tableId:e.tableId,rowId:e.row.id}),{className:"".concat(it.a.container," ").concat(i?it.a.over:""),ref:l}),_.a.createElement(f.g,{size:8}),e.isEdit&&_.a.createElement("div",{className:"row-control"},_.a.createElement(tt,{tableId:e.tableId,row:e.row,diagramDispatch:e.diagramDispatch})),e.columns.slice(0,e.isExpand?void 0:2).map((function(a,t){return _.a.createElement("div",{className:"row-control",key:a.id},_.a.createElement(Za,{tableId:e.tableId,row:e.row,column:a,diagramDispatch:e.diagramDispatch,isRight:1===t}))})),e.isEdit&&_.a.createElement(La,{tableId:e.tableId,rowId:e.row.id,diagramDispatch:e.diagramDispatch,edge:e.edge}),_.a.createElement(f.g,{size:8}))})),st=function(e,a){return function(t){var n;return m.createElement("div",{className:"table-row",id:Ce(e.tableId,t.id),key:t.id},m.createElement(lt,{row:t,edge:null!==(n=a.get(t.id))&&void 0!==n?n:null,tableId:e.tableId,isEdit:e.isTableEdit,isExpand:e.isTableExpand,columns:e.columns,diagramDispatch:e.diagramDispatch}))}},rt=function(e){return m.createElement(f.a,{color:"secondary"},m.createElement(f.b,{color:"weak"}),m.createElement("div",{style:{marginTop:-1}}),m.createElement(f.c,{style:f.c.style.flat,size:f.c.size.small,isFullWidth:!0,onClick:function(){return e.show()},children:"".concat(e.count," columns hidden")}),m.createElement("div",{style:{marginTop:-1}}),m.createElement(f.b,{color:"weak"}))},ot=function(e){return m.createElement(f.c,{style:f.c.style.flat,size:f.c.size.small,isFullWidth:!0,onClick:function(){return e.hide()},children:"Hide columns"})},dt=function(e){var a=m.useState(!1),t=Object(c.a)(a,2),n=t[0],i=t[1],l=function(e){var a=new Map;return e.forEach((function(e){e.edge.from.rows.forEach((function(t){a.set(t,e.edge)}))})),a}(e.relatedEdges),s=function(e,a){var t=50-a.size,n=[],i=[];return e.forEach((function(e){t>0||a.has(e.id)?(0!==i.length&&n.push(i),i=[],n.push(e),t-=1):i.push(e)})),0!==i.length&&n.push(i),n}(e.rows,l),r=function(e,a,t,n){return function(i,l){return Array.isArray(i)?t?m.createElement(m.Fragment,{key:i[0].id},i.map(st(e,a))):m.createElement(rt,{key:"hidden-".concat(l),count:i.length,show:function(){return n(!0)}}):st(e,a)(i)}}(e,l,n,i),o=s.length!==e.rows.length;return m.useEffect((function(){o&&i(e.isRowsExpand)}),[e.isRowsExpand,o]),m.createElement(m.Fragment,null,s.map(r),n&&m.createElement(ot,{hide:function(){return i(!1)}}))},ft=function(e){return function(a){var t=a.relatedTarget;a.currentTarget.contains(t)||a.target instanceof HTMLButtonElement||e.setIsEdit(!0)}},ct=function(e){var a=_.a.useState(!1),t=Object(c.a)(a,2),n=t[0],i=t[1];return _.a.useEffect((function(){e.isEdit||i(!1)}),[e.isEdit]),_.a.createElement("div",{className:va.a.container,onFocus:ft(e)},_.a.createElement(f.g,{size:8}),e.isEdit&&_.a.createElement("div",{className:va.a.header},_.a.createElement(za,{columns:e.columns,isExpand:n,setIsExpand:i})),_.a.createElement("div",{onKeyDown:ja},_.a.createElement(dt,{rows:e.table.value.rows,tableId:e.table.id,isTableEdit:e.isEdit,isTableExpand:n,columns:e.columns,isRowsExpand:e.isRowsExpand,relatedEdges:e.relatedEdges,diagramDispatch:e.diagramDispatch})),(e.isEdit||0===e.table.value.rows.length)&&_.a.createElement(ba,{tableId:e.table.id,diagramDispatch:e.diagramDispatch}),_.a.createElement(f.g,{size:8}))},ut=t(54),mt=t.n(ut),_t=t(120),pt=t.n(_t),bt=function(e){var a=_.a.useState(!1),t=Object(c.a)(a,2),n=t[0],i=t[1];return _.a.createElement("div",{className:pt.a.container,style:{width:208}},n?_.a.createElement(f.i,{key:e.table.value.name,defaultValue:e.table.value.name,onBlur:function(a){!function(e,a){var t=a.currentTarget.value;if(t!==e.table.value.name){var n={id:e.table.id,name:t};e.diagramDispatch({type:"update-table-name",payload:n})}}(e,a),i(!1)},onFocus:function(){e.setIsEdit(!1)},style:f.i.style.flat,autoFocus:!0}):_.a.createElement("div",{className:[pt.a.view,f.i.size.medium.main,"react-draggable-cancel"].join(" "),onClick:function(){i(!0)}},e.table.value.name))},gt=t(203),vt=t.n(gt),ht=function(e){return _.a.createElement("div",{className:[vt.a.container,f.q.primary].join(" ")},_.a.createElement(f.c,{style:f.c.style.flat,onClick:function(){var a={id:e.tableId};e.diagramDispatch({type:"remove-table",payload:a})},icon:b.a.cross}))},yt=function(e){return _.a.createElement("div",{className:"".concat(mt.a.container," ").concat(e.isEdit?mt.a.edit:"")},_.a.createElement(f.g,{size:8}),_.a.createElement("div",{className:mt.a.main},_.a.createElement(f.g,{size:8}),_.a.createElement(bt,{table:e.table,setIsEdit:e.setIsEdit,diagramDispatch:e.diagramDispatch}),_.a.createElement(f.g,{size:8}),_.a.createElement("div",{className:mt.a.button},_.a.createElement(ht,{tableId:e.table.id,diagramDispatch:e.diagramDispatch}))),_.a.createElement(f.g,{size:8}))},wt=function(e,a){if(!e)return function(e){var t=e.relatedTarget;e.currentTarget.contains(t)||a(!1)}},Et=t(85),xt=t.n(Et),jt=function(e,a){var t=[xt.a.container,f.q.primary,f.r.strong];return e.isSelected&&t.push(xt.a.selected),a&&t.push(xt.a.edit),t.join(" ")},kt=function(e){return{type:"ref",value:e.edge.id}},It=function(e){return function(){e.setSelectIds((function(a){var t=e.relatedEdges.map(kt);return t.push({type:"table",value:e.table.id}),function(e,a){if(e.length!==a.length)return!1;var t=ua(e),n=t.tables,i=t.refs;return a.every((function(e){return!("table"!==e.type||!n.has(e.value))||!("ref"!==e.type||!i.has(e.value))}))}(a,t)?a:t}))}},Ot=_.a.memo((function(e){e.table.id,e.table.value.id;var a=_.a.useState(!1),t=Object(c.a)(a,2),n=t[0],i=t[1],l=Object(p.a)(function(e){return function(a){var t=a.getItem();return null!==t&&("row"===t.type&&t.tableId===e.table.id)}}(e));return _.a.createElement("div",{className:jt(e,n),onBlur:wt(l,i),tabIndex:0,onFocus:It(e)},_.a.createElement(yt,{table:e.table,isEdit:n,setIsEdit:i,diagramDispatch:e.diagramDispatch}),_.a.createElement(f.b,{color:"weak"}),_.a.createElement("div",{style:{marginTop:-1}}),_.a.createElement(ct,{table:e.table,isEdit:n,setIsEdit:i,isRowsExpand:e.isRowsExpand,relatedEdges:e.relatedEdges,diagramDispatch:e.diagramDispatch,columns:e.columns}))})),St=function(e){var a=_.a.useRef(null);return _.a.createElement(ia.a,{position:{x:0,y:0},onDrag:oa(e),onStop:fa(e),nodeRef:a,scale:e.zoom,cancel:"input, button, select, .react-draggable-cancel"},_.a.createElement("div",{ref:a,className:sa.a.container},_.a.createElement(Ot,{table:e.table,isSelected:e.isSelected,setSelectIds:e.setSelectId,isRowsExpand:e.isRowsExpand,columns:e.columns,relatedEdges:e.relatedEdges,diagramDispatch:e.diagramDispatch})))},zt=t(204),Tt=[t.n(zt).a.container,f.q.primary,f.r.strong].join(" "),Dt=function(e){return m.createElement("div",{className:Tt,style:z(e.table,e.isRowsExpand)})},Rt=_.a.memo((function(e){var a=_.a.useRef(null),t=_.a.useState(!1),n=Object(c.a)(t,2),i=n[0],l=n[1];_.a.useEffect((function(){var t,n=(t=l,function(e){e.forEach((function(e){t(e.isIntersecting)}))}),i=new IntersectionObserver(n,{threshold:0,root:e.viewportRef.current});if(null===a.current)throw Error("ref is null");return i.observe(a.current),function(){return i.disconnect()}}),[e.viewportRef]);var s=i||e.forceVisible;return _.a.createElement("div",{id:O(e.table.id),style:{position:"absolute",top:e.table.position.top,left:e.table.position.left,zIndex:e.isSelected?1:0},ref:a,"data-name":e.table.value.name,"data-is-visible":s},s?_.a.createElement(St,{table:e.table,columns:e.columns,diagramDispatch:e.diagramDispatch,relatedEdges:e.relatedEdges,isRowsExpand:e.isRowsExpand,isSelected:e.isSelected,setSelectId:e.setSelectId,zoom:e.zoom}):_.a.createElement(Dt,{isRowsExpand:e.isRowsExpand,table:e.table}))})),Mt=function(e,a){var t=e.current;if(null===t)throw Error("start is null");var n={left:a.nativeEvent.offsetX,top:a.nativeEvent.offsetY},i=Math.min(t.top,n.top),l=Math.max(t.left,n.left),s=Math.max(t.top,n.top),r=Math.min(t.left,n.left);return{top:i,left:r,width:l-r,height:s-i}},Nt=function(e,a){e.style.opacity=a},Lt={top:0,left:0,width:0,height:0},At=function(e,a){e.style.width="".concat(a.width,"px"),e.style.height="".concat(a.height,"px"),e.style.transform="translate(".concat(a.left,"px, ").concat(a.top,"px)")},qt=function(e,a){var t=e.current;if(null===t)throw Error("boxRef is null");"start"===a?(At(t,Lt),Nt(t,"1")):"stop"===a?Nt(t,"0"):At(t,a)},Vt=t(86),Ft=t.n(Vt),Pt=function(e){if("true"!==e.element.dataset.isVisible)return!1;var a,t,n=e.element,i=n.clientWidth,l=n.clientHeight,s=e.position,r={width:i,height:l,top:s.top,left:s.left};return a=e.target,t=r,!(a.left>t.left+t.width)&&!(t.left>a.left+a.width)&&!(a.top>t.top+t.height)&&!(t.top>a.top+a.height)},Ct=function(e,a){return e.map((function(e){return{type:a,value:e}}))},Ht=function(e,a){var t=function(e,a){return e.diagram.tables.filter((function(e){return Pt({target:a,position:e.position,element:S(e.id)})})).map((function(e){return e.id}))}(e,a),n=function(e,a){var t=new Set(a);return e.diagram.refs.filter((function(e){return t.has(e.from.table)||t.has(e.to.table)})).map((function(e){return e.id}))}(e,t);return[].concat(Object(i.a)(Ct(t,"table")),Object(i.a)(Ct(n,"ref")))},Bt=function(e,a){a?e.classList.add("temp-selected"):e.classList.remove("temp-selected")},Ut=function(e,a){var t=new Set;a.tables.forEach((function(a){var n=S(a.id),i=a.position,l=Pt({target:e,element:n,position:i});l&&t.add(a.id),Bt(n,l)})),a.refs.forEach((function(e){var a=t.has(e.from.table)||t.has(e.to.table),n=function(e){var a=document.getElementById(Ae(e));if(a instanceof SVGGElement)return a;throw Error("Element is not SVGGElement")}(e.id);Bt(n,a)}))},Jt=function(e,a){var t=e.current;if(null===t)throw Error("containerRef is null");t.style.zIndex=a?"2":"0"},Kt=[],Wt=_.a.memo((function(e){var a=_.a.useRef(null),t=_.a.useRef(!1),n=_.a.useRef(null),i=_.a.useRef(null),l=_.a.useRef(!1);return _.a.createElement("div",{className:Ft.a.container,tabIndex:0,onKeyDown:function(e){" "===e.key&&(l.current=!0)},onKeyUp:function(e){" "===e.key&&(l.current=!1)},onMouseDown:function(s){if(!0!==l.current){var r=s.nativeEvent,o=r.offsetX,d=r.offsetY;a.current={left:o,top:d},t.current=!0,Jt(i,!0),qt(n,"start"),e.setSelectIds(Kt)}},onMouseMove:function(i){if(!1!==t.current){var l=Mt(a,i);qt(n,l),Ut(l,e.diagram)}},onMouseUp:function(l){if(!1!==t.current){t.current=!1,document.querySelectorAll(".".concat("temp-selected")).forEach((function(e){e.classList.remove("temp-selected")})),Jt(i,!1),qt(n,"stop");var s=Mt(a,l),r=Ht({diagram:e.diagram},s);e.setSelectIds(r),a.current=null}},ref:i},_.a.createElement("div",{ref:n,className:Ft.a.box},_.a.createElement("div",{className:Ft.a.boxBg})))})),Gt=t(87),Qt=t.n(Gt),Yt=function(e){var a=[e,e.diagram.size],t=a[0].zoom,n=a[1],i=n.width,l=n.height,s=(t-1)/2,r="".concat(l*s,"px ").concat(i*s,"px");return{width:i,height:l,transform:1!==t?"scale(".concat(t,")"):"",margin:r,fontSize:12}},Zt=function(e,a){return e.set(a.id,a),e},$t=[],Xt=function(e){var a=e.diagram,t=a.refs,n=a.tables,i=_.a.useMemo((function(){return n.reduce(Zt,new Map)}),[n]),l=_.a.useMemo((function(){return t.reduce(function(e){return function(a,t){var n,i,l=e.get(t.to.table),s=e.get(t.from.table),r=t.from.table,o=null!==(n=a.get(r))&&void 0!==n?n:[];a.set(r,o.concat({edge:t,table:l}));var d=t.to.table,f=null!==(i=a.get(d))&&void 0!==i?i:[];return a.set(d,f.concat({edge:t,table:s})),a}}(i),new Map)}),[t,i]);return _.a.createElement("div",{id:"canvas",className:[Qt.a.container,f.q.secondary].join(" "),style:Yt(e)},_.a.createElement("div",{className:Qt.a.grid}),_.a.createElement(Wt,{diagram:e.diagram,setSelectIds:e.setSelectIds}),_.a.createElement("svg",{className:Qt.a.edges,width:e.diagram.size.width,height:e.diagram.size.height},e.diagram.refs.map((function(a){return _.a.createElement(ta,{key:a.id,edge:a,isSelected:e.selectedRefs.has(a.id),setSelectIds:e.setSelectIds,fromTable:i.get(a.from.table),toTable:i.get(a.to.table),diagramDispatch:e.diagramDispatch})}))),e.diagram.tables.map((function(a){var t;return _.a.createElement(Rt,{key:a.id,table:a,isSelected:e.selectedTables.has(a.id),setSelectId:e.setSelectIds,isRowsExpand:e.isRowsExpand,columns:e.diagram.columns,relatedEdges:null!==(t=l.get(a.id))&&void 0!==t?t:$t,diagramDispatch:e.diagramDispatch,viewportRef:e.viewportRef,zoom:e.zoom,forceVisible:e.forceVisible})})))},en=t(121),an=t.n(en),tn=(t(443),function(e){return function(a){a.target instanceof HTMLInputElement||" "===a.key&&(a.preventDefault(),e.drag||(e.setDrag(!0),e.element.classList.add("dragscroll"),an.a.reset(),e.element.addEventListener("keyup",function(e){return function a(){e.setDrag(!1),e.element.classList.remove("dragscroll"),an.a.reset(),e.element.removeEventListener("keyup",a)}}(e))))}}),nn={behavior:"smooth",block:"center",inline:"center"},ln=function(e){return _.a.createElement(f.c,{onClick:function(){var a=le(e.tables.map((function(e){return e.id})));e.diagramDispatch({type:"add-table",payload:{id:a}}),window.setTimeout((function(){e.setSelectIds([{type:"table",value:a}]),S(a).scrollIntoView(nn)}),0)},size:e.buttonSize,icon:b.a.plus,children:"Table"})},sn=t(19),rn=t.n(sn),on=t(40),dn=t(122),fn=t.n(dn),cn={svg:"data:image/svg+xml;charset=utf-8,",png:"data:image/png;base64,"},un=function(){var e=Object(on.a)(rn.a.mark((function e(a){return rn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.format,e.next="png"===e.t0?3:"svg"===e.t0?6:9;break;case 3:return e.next=5,fn.a.toPng(a.canvas);case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,fn.a.toSvg(a.canvas);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),mn=function(){var e=Object(on.a)(rn.a.mark((function e(a){return rn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return window.setTimeout((function(){return e()}),a)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),_n=function(){var e=Object(on.a)(rn.a.mark((function e(a){var t,n,i;return rn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setTableVisible(!0),mn(100),e.next=4,un(a);case 4:return t=e.sent,a.setTableVisible(!1),n=cn[a.format],i=t.replace(n,""),e.abrupt("return",{prefix:n,body:i});case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),pn=t(205),bn=["&%23xA;","&%239;"],gn=function(e){if(e.prefix.includes("base64"))return e.body;if(e.prefix.includes("utf-8")){var a=e.body;return bn.forEach((function(e){a=a.replaceAll(e,"")})),Object(pn.a)(a)}throw Error("Unknown file prefix: ".concat(e.prefix))},vn=function(e){switch(e.platform){case"mac":return function(e){var a={data:gn(e.file),ext:e.format,name:"diagram",title:"Save diagram as\u2026"};window.webkit.messageHandlers.saveFile.postMessage(a)}(e);case"web":return function(e){var a=document.createElement("a");a.download="diagram.".concat(e.format),a.href="".concat(e.file.prefix).concat(e.file.body),a.click()}(e)}},hn=function(){var e=Object(on.a)(rn.a.mark((function e(a,t,n){var i,l;return rn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(i=document.getElementById("canvas"))){e.next=3;break}throw Error("Canvas is null");case 3:return e.next=5,_n({canvas:i,format:n,setTableVisible:a});case 5:l=e.sent,vn({file:l,format:n,platform:t});case 7:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),yn=["MySQL","MariaDB","SQLite","PostgreSQL","Cassandra","Snowflake","MicrosoftSQLServer"],wn=function(e){var a=je(),t=[{label:"Save as Image (PNG)",fn:function(){return hn(e.setTableVisible,a,"png")}},{label:"Save as Web page (SVG)",fn:function(){return hn(e.setTableVisible,a,"svg")}},{label:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500",fn:function(){},disabled:!0}].concat(Object(i.a)(yn.map((function(t){return{label:"Export to ".concat(t),fn:function(){return function(e,a,t){if("web"===a)return window.alert("Export to SQL requires TablePlus app");var n={data:x(e),driver:t};window.webkit.messageHandlers.exportSQL.postMessage(n)}(e.diagram,a,t)}}}))));return _.a.createElement(f.d,{icon:b.a.share,actions:t,size:e.buttonSize})},En=function(e){return function(a){switch(a){case"undo":return e.dispatch({type:"undo"});case"redo":return e.dispatch({type:"redo"});default:throw Error('Unknown value: "'.concat(a,'"'))}}},xn={key:"undo",icon:b.a.undo,value:"undo"},jn={key:"redo",icon:b.a.redo,value:"redo"},kn=function(e){return _.a.createElement(f.p,{value:"",setValue:En(e),options:[Object(I.a)(Object(I.a)({},xn),{},{disabled:0===e.past.length}),Object(I.a)(Object(I.a)({},jn),{},{disabled:0===e.future.length})],size:e.buttonSize})},In=t(206),On=t.n(In),Sn={type:"set-layout",payload:{type:"auto"}},zn=function(e){return[{label:"Expand all columns and Arrange",fn:function(){e.setIsRowsExpand(!0),window.setTimeout((function(){return e.diagramDispatch(Sn)}),0)}},{label:"Collapse columns and Arrange",fn:function(){e.setIsRowsExpand(!1),window.setTimeout((function(){return e.diagramDispatch(Sn)}),0)}}]},Tn=function(e){return _.a.createElement("div",{className:On.a.container},_.a.createElement(f.c,{icon:b.a.layoutAuto,onClick:function(){e.diagramDispatch(Sn)},children:"Arrange",size:e.buttonSize}),_.a.createElement(f.d,{actions:zn(e),icon:b.a.caret,size:e.buttonSize}))},Dn=t(207),Rn=t(208),Mn=t(209),Nn=function(e,a){var t={text:JSON.stringify(a),isAppend:!1};e.diagramDispatch({type:"parse-json",payload:t})},Ln=function(e){return m.createElement(f.d,{actions:[{label:"3 tables (1KB)",fn:function(){return Nn(e,Dn)}},{label:"3 tables (9KB)",fn:function(){return Nn(e,Rn)}},{label:"28 tables (28KB)",fn:function(){return Nn(e,Mn)}}]})},An=function(e,a){var t,n=a.filter((t=e,function(e){return[e.from.table,e.to.table].includes(t)})).map((function(e){return{type:"ref",value:e.id}}));return n.push({type:"table",value:e}),n},qn={behavior:"smooth",block:"center",inline:"center"},Vn=function(e){var a=e.diagram,t=e.setSelectIds,n=_.a.useMemo((function(){var e=new Set;return a.tables.forEach((function(a){e.add(a.value.name)})),Object(i.a)(e)}),[a.tables]),l=_.a.useState(""),s=Object(c.a)(l,2),r=s[0],o=s[1];return _.a.useEffect((function(){!1!==n.includes(r)&&function(e,a,t){var n=e.tables.find((function(e){return e.value.name===t}));if(void 0===n)throw Error("table is undefined");a(An(n.id,e.refs)),S(n.id).scrollIntoView(qn)}(a,t,r)}),[r,n,a,t]),_.a.createElement("div",{style:{flex:"1 1 0px"}},_.a.createElement(f.i,{icon:b.a.search,placeholder:"Find table\u2026",value:r,setValue:o,list:{id:"header-search",values:n},size:e.inputSize}))},Fn=t(123),Pn=t.n(Fn),Cn=t(210),Hn=t.n(Cn),Bn=[{value:"theme-light",icon:b.a.flash,key:"light"},{value:"theme-auto",label:"System",key:"auto"},{value:"theme-dark",icon:b.a.moon,key:"dark"}],Un=function(e){return _.a.createElement(f.p,{value:e.theme,setValue:e.setTheme,options:Bn,size:e.buttonSize})},Jn=function(e){return function(a){switch(a){case"reset":return e.setZoom(1);case"in":if(e.zoom>=2)return;return e.setZoom(e.zoom+.25);case"out":if(e.zoom<=.25)return;return e.setZoom(e.zoom-.25);default:throw Error('Unknown value: "'.concat(a,'"'))}}},Kn=function(e){return _.a.createElement(f.p,{value:null,setValue:Jn(e),options:[{key:"out",icon:b.a.zoomOut,value:"out"},{label:"".concat(100*e.zoom,"%"),value:"reset"},{key:"in",icon:b.a.zoomIn,value:"in"}],size:e.buttonSize})},Wn={web:"",mac:Hn.a.container},Gn=_.a.memo((function(e){var a=je(),t=function(e){switch(e){case"mac":return[f.c.size.small,f.i.size.small];default:return[f.c.size.medium,f.i.size.medium]}}(a),n=Object(c.a)(t,2),i=n[0],l=n[1],s=function(e){var a="web"===e?_.a.createElement(f.b,{color:"weak"}):null;return _.a.createElement(_.a.Fragment,null,_.a.createElement(f.g,{size:16})," ",a," ",_.a.createElement(f.g,{size:16}))}(a);return _.a.createElement("div",{className:[Pn.a.container,Wn[a]].join(" ")},_.a.createElement("div",{className:Pn.a.platformPad}),_.a.createElement(f.g,{size:16}),"web"===a&&_.a.createElement(_.a.Fragment,null,_.a.createElement(Ln,{diagramDispatch:e.diagramDispatch}),s),_.a.createElement(ln,{buttonSize:i,tables:e.diagram.tables,diagramDispatch:e.diagramDispatch,setSelectIds:e.setSelectIds}),_.a.createElement(f.g,{size:16}),_.a.createElement(kn,{buttonSize:i,past:e.diagramPast,future:e.diagramFuture,dispatch:e.diagramDispatch}),s,_.a.createElement(Vn,{inputSize:l,diagram:e.diagram,setSelectIds:e.setSelectIds}),s,_.a.createElement(Tn,{buttonSize:i,setIsRowsExpand:e.setIsRowsExpand,diagramDispatch:e.diagramDispatch}),_.a.createElement(f.g,{size:16}),_.a.createElement(Kn,{buttonSize:i,viewportRef:e.viewportRef,zoom:e.zoom,setZoom:e.setZoom}),_.a.createElement(f.g,{size:16}),_.a.createElement(wn,{buttonSize:i,diagram:e.diagram,setTableVisible:e.setTableVisible}),"web"===a&&_.a.createElement(_.a.Fragment,null,s,_.a.createElement(Un,{buttonSize:i,theme:e.theme,setTheme:e.setTheme})),_.a.createElement(f.g,{size:16}))})),Qn=t(124),Yn=t.n(Qn),Zn=r("setProgressIndicator"),$n=function(){var e=_.a.useState(!1),a=Object(c.a)(e,2),t=a[0],n=a[1],i=_.a.useState(void 0),l=Object(c.a)(i,2),s=l[0],r=l[1];return _.a.useEffect((function(){Zn((function(e,a){n(e),r(a)}))}),[]),!1===t?null:_.a.createElement("div",{className:[Yn.a.container,f.q.secondary].join(" ")},_.a.createElement("div",{className:Yn.a.body},_.a.createElement(f.m,{size:24,value:!0===t?null:t}),void 0!==s&&_.a.createElement(_.a.Fragment,null,_.a.createElement(f.g,{size:16}),_.a.createElement("div",null,s))))},Xn=function(e){var a=e.ids,t=e.diagram;m.useEffect((function(){var e=function(e){return function(e,a){var t;if(!(a.target instanceof HTMLInputElement)&&!(a.target instanceof HTMLTextAreaElement)&&0!==e.ids.length){var n=ua(e.ids).tables;if(0!==n.size){var i={columns:e.diagram.columns,tables:e.diagram.tables.filter((function(e){return n.has(e.id)})),refs:e.diagram.refs.filter((function(e){return n.has(e.from.table)&&n.has(e.to.table)})),size:{width:0,height:0},schema:e.diagram.schema},l=x(i),s=JSON.stringify(l);null===(t=a.clipboardData)||void 0===t||t.setData("text/plain",s),a.preventDefault()}}}({ids:a,diagram:t},e)};return document.addEventListener("copy",e),function(){return document.removeEventListener("copy",e)}}),[a,t])},ei=function(e,a){return e.filter((function(e){return e.type===a})).map((function(e){return e.value}))},ai=function(e){var a=e.dispatch;m.useEffect((function(){var e=function(e){return function(e,a){var t,n;if(!(a.target instanceof HTMLInputElement)&&!(a.target instanceof HTMLTextAreaElement)){var i={text:null!==(t=null===(n=a.clipboardData)||void 0===n?void 0:n.getData("text/plain"))&&void 0!==t?t:"",isAppend:!0};e.dispatch({type:"parse-json",payload:i})}}({dispatch:a},e)};return document.addEventListener("paste",e),function(){return document.removeEventListener("paste",e)}}),[a])},ti=t(55),ni=t.n(ti),ii=function(){var e=function(){var e=ze(),a=_.a.useReducer(Re,void 0,(function(){return{past:[],present:e.get(),future:[]}})),t=Object(c.a)(a,2),n=t[0],i=t[1];k(n.present,i),Te({history:n,dispatch:i});var l=e.set;return _.a.useEffect((function(){l(n.present)}),[n.present,l]),{history:n,dispatch:i}}(),a=_.a.useState(1),t=Object(c.a)(a,2),n=t[0],i=t[1],l=_.a.useRef(null),s=function(){var e=m.useState([]),a=Object(c.a)(e,2),t=a[0],n=a[1],i=m.useMemo((function(){return ua(t)}),[t]),l=i.tables,s=i.refs;return{ids:t,setIds:n,tables:l,refs:s}}(),r=Object(u.a)(),o=_.a.useState(!1),d=Object(c.a)(o,2),p=d[0],b=d[1],g=_.a.useState(!1),v=Object(c.a)(g,2),h=v[0],y=v[1];return Xn({diagram:e.history.present,ids:s.ids}),ai({dispatch:e.dispatch}),function(e){var a=_.a.useState(!1),t=Object(c.a)(a,2),n=t[0],i=t[1];_.a.useEffect((function(){var a=e.current;if(null!==a){var t={drag:n,setDrag:i,element:a};a.tabIndex=0;var l=tn(t);return a.addEventListener("keydown",l),function(){return a.removeEventListener("keydown",l)}}}),[n,e])}(l),_.a.createElement("div",{className:ni.a.container},_.a.createElement("div",{className:ni.a.header},_.a.createElement(Gn,{diagram:e.history.present,diagramPast:e.history.past,diagramFuture:e.history.future,diagramDispatch:e.dispatch,theme:r.theme,setTheme:r.setTheme,viewportRef:l,zoom:n,setZoom:i,setTableVisible:b,setIsRowsExpand:y,setSelectIds:s.setIds})),_.a.createElement(f.b,{color:"strong"}),_.a.createElement("div",{className:"".concat(ni.a.body," ").concat(f.q.secondary)},_.a.createElement("div",{className:ni.a.viewport,tabIndex:0,ref:l,onKeyUp:function(a){!function(e){var a=e.ids,t=e.event,n=e.diagramDispatch;!1!==["Backspace","Delete"].includes(t.key)&&(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||(n({type:"remove-multiple-refs",payload:{ids:ei(a,"ref")}}),n({type:"remove-multiple-tables",payload:{ids:ei(a,"table")}}),t.stopPropagation()))}({ids:s.ids,diagramDispatch:e.dispatch,event:a})}},_.a.createElement(Xt,{diagram:e.history.present,diagramDispatch:e.dispatch,isRowsExpand:h,zoom:n,viewportRef:l,forceVisible:p,selectedRefs:s.refs,selectedTables:s.tables,setSelectIds:s.setIds})),_.a.createElement($n,null)),_.a.createElement(w,{viewportRef:l}))},li=t(88),si=t.n(li),ri=t(211),oi=t.n(ri),di=t(218),fi=t(213),ci=t(125),ui=t.n(ci),mi=function(){return _.a.createElement("a",{className:ui.a.logo,href:"https://tableplus.com",target:"_blank",rel:"noopener noreferrer"},_.a.createElement("img",{alt:"TablePlus logo",src:oi.a,width:"auto",height:32}))},_i=function(){return _.a.createElement("div",{className:ui.a.container},_.a.createElement(f.g,{size:16}),_.a.createElement(fi.a,{dataText:"diagram"}),_.a.createElement(f.f,null),_.a.createElement(di.a,{offlineMode:!1}),_.a.createElement(f.g,{size:16}),_.a.createElement(mi,null),_.a.createElement(f.g,{size:16}))},pi=function(){var e=je();return _.a.createElement("div",{className:[si.a.container,f.t.custom].join(" ")},_.a.createElement("div",{className:si.a.body},_.a.createElement(ii,null)),"web"===e&&_.a.createElement(_.a.Fragment,null,_.a.createElement(f.b,{color:"strong"}),_.a.createElement("div",{className:si.a.footer},_.a.createElement(_i,null))))},bi=(t(445),t(215)),gi=t(216),vi=t(23),hi=t.n(vi),yi=new n.a("diagram");"5"!==(d=yi).getItem("version")&&(d.clear(),d.setItem("version","5"));var wi=function(){var e=function(){var e=_.a.useState(Ee),a=Object(c.a)(e,2),t=a[0],n=a[1];return _.a.useEffect((function(){ke((function(e){n(e)}))}),[]),t}();return _.a.createElement(_.a.StrictMode,null,_.a.createElement(n.b.Provider,{value:yi},_.a.createElement(bi.a,{options:gi.a},_.a.createElement(xe.Provider,{value:e},_.a.createElement(pi,null)))))};hi.a.render(_.a.createElement(wi,null),document.getElementById("root"))},52:function(e,a,t){e.exports={container:"layer_container__1DSen",svg:"layer_svg__1kDpM",line:"layer_line__24WBc",icon:"layer_icon__1W0JP"}},53:function(e,a,t){e.exports={container:"string_container__6Pyow",view:"string_view__1oiV8",weak:"string_weak__3HpXd",edit:"string_edit__2m0iK",empty:"string_empty__3u9-r"}},54:function(e,a,t){e.exports={main:"header_main__1XQwN",container:"header_container__1QU6W",edit:"header_edit__3vvV8",button:"header_button__3dtI9",title:"header_title__l4mqY"}},55:function(e,a,t){e.exports={container:"view_container__2oDm-",body:"view_body__1Z1mW",viewport:"view_viewport__1l3sB",header:"view_header__3f7ol"}},84:function(e,a,t){e.exports={container:"header_container__2zpDr","slide-in":"header_slide-in__TPuT0",field:"header_field__nquLg",rightField:"header_rightField__3R_Ju"}},85:function(e,a,t){e.exports={container:"main_container__24nAp",selected:"main_selected__1OzJ8",edit:"main_edit__KBdPX"}},86:function(e,a,t){e.exports={container:"drag_container__1_FJJ",box:"drag_box__2nmY1",boxBg:"drag_boxBg__32YQk"}},87:function(e,a,t){e.exports={container:"canvas_container__3Y18v",grid:"canvas_grid__nkChd",edges:"canvas_edges__ktJ6s"}},88:function(e,a,t){e.exports={container:"app_container__2pv2U",body:"app_body__3dFS1",footer:"app_footer__1cpy9"}}},[[220,1,2]]]);
//# sourceMappingURL=main.9da98833.chunk.js.map